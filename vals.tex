\documentclass[main.tex]{subfiles}
\begin{document}
\section{Valuations}
\noindent
%
%          DEFINITION OF MODULAR MAPS
%
\begin{dfn}
\label{D:val}
Let $L$ be a lattice, $E$ an ordered Abelian group,
and $\varphi\colon L \ra E$.
\begin{enumerate}
\item
\label{D:val-mod}
$\varphi$ is \keyword{modular} provided that
\begin{equation*}
\varphi(a\wedge b) + \varphi(a \vee b)
\ =\ 
\varphi(a) + \varphi(b)
\qquad(a,b\in L).
\end{equation*}

\item
\label{D:val-val}
$\varphi$ is a \keyword{valuation}
provided that $\varphi$ is modular and order preserving.
\end{enumerate}
\end{dfn}

\begin{ex}
Let $\mathcal{F}$ be the set of finite subsets of~$\N$,
and for each $A\in \mathcal{F}$,
let $\#(A)$ be the number of elements of~$A$.
Then
$\mathcal{F}$ is a lattice of subsets of~$\N$,
and
\begin{equation*}
\#(A\cap B) + \#(A\cup B) \,=\, \#(A) + \#(B)
\qquad(A,B\in\mathcal{F}).
\end{equation*}
So the map $\#\colon \mathcal{F}\rightarrow \N$
given by $A\mapsto \#(A)$ is modular.

Since $\#$ is also order preserving,
$\#$ is a valuation.
\end{ex}

\begin{ex}
Let $\mathcal{A}$ be the set of Lebesgue-measurable
subsets of~$\R$ with finite measure.
Then~$\mathcal{A}$ is a lattice of subsets of~$\R$.
Given~$A\in\mathcal{A}$,
let $\lambda(A)$ denote the measure of~$A$.
We have 
\begin{equation*}
\lambda(A\cap B) + \lambda(A\vee B) \,=\, \lambda(A) + \lambda(B)
\qquad(A,B\in\mathcal{A}).
\end{equation*}
So~$\lambda$ is modular.
In fact, $\lambda$ is also order presering,
so~$\lambda$ is a valuation.
\end{ex}

\begin{ex}
Let~$X$ be a set and let~$\mathcal{A}$ be a ring of subsets of~$X$.
That is,
\begin{equation*}
A\cap B,\qquad\qquad A\cup B,\qquad\qquad A\backslash B
\end{equation*}
are in~$\mathcal{A}$ for all $A,B\in\mathcal{A}$.
Then clearly~$\mathcal{A}$ is a lattice.

Let $E$ be an ordered Abelian group
and let~$\mu\colon \mathcal{A}\rightarrow \R$ be a map.
Recall that~$\mu$ is \keyword{additive} if $\mu(A) + \mu(B) = \mu(A\cup B)$
for all $A,B\in\mathcal{A}$ with $A\cap B=\varnothing$.

\emph{If~$\mu$ is additive,
then $\mu$ is modular.}
Indeed,
let $A,B\in \mathcal{A}$ be given. We need to prove that
$\mu(A) + \mu(B) =\mu(A\cap B) + \mu(A\cup B)$
assuming~$\mu$ is additive.
We have
\begin{alignat*}{6}
\mu(A) + \mu(B) \,
  & =\, \mu(A\cap B \ \cup\ A\backslash B) + \mu(B) \\ 
  & =\, \mu(A\cap B) + \mu(A\backslash B)  + \mu(B)\qquad
    && \text{since } A\cap B \ \cap\ A\backslash B = \varnothing \\ 
  & =\, \mu(A\cap B) + \mu(A\backslash B \ \cup\ B ) 
    && \text{since } A\backslash B\ \cap\ B = \varnothing \\
  & =\, \mu(A\cap B) + \mu(A\cup B).
\end{alignat*}

Recall that~$\mu$ is \keyword{positive} whenever
$\mu(A)\in E^+$ for all~$A\in\mathcal{A}$.

\emph{If~$\mu$ is additive and positive,
then~$\mu$ is a valuation.}
Since~$\mu$ is additive,
$\mu$ is modular.
It remains to be shown that~$\mu$ is order preserving
(see Definition~\ref{D:val}).
Let $A\subseteq B$ from~$\mathcal{A}$ be given
in order to prove $\mu(A)\leq \mu(B)$.
We have
\begin{equation*}
(B\backslash A)\,\cup\, A\,=\,B,\qquad\qquad 
(B\backslash A)\,\cap\, A\,=\,\varnothing.
\end{equation*}
So by additivity, 
$\mu(B)=\mu(B\backslash A)+\mu(A)$.
Then $\mu(B)\geq \mu(A)$, since $\mu(B\backslash A)\geq 0$.
\end{ex}

\begin{ex}
Let $C$ be a chain;
i.e. a totally ordered set.
Then $C$ is a lattice with
\begin{equation*}
a\wedge b = \min\{a,b\},
 \qquad 
a\vee b = \max\{a,b\}.
\end{equation*}
\emph{Any map $f\colon C\rightarrow E$
to an ordered Abelian group is modular}
Indeed,
let $a,b\in C$ be given.
Then either $a\leq b$ or $b\leq a$.
We need to prove that 
\begin{equation}
\label{eq:ex:chain}
f(a\wedge b) + f(a \vee b) \,=\, f(a) + f(b).
\end{equation}
Suppose $a\leq b$. Then $a\wedge b = a$ and $a \vee b= b$.
Hence Equation~\eqref{eq:ex:chain} holds.  
If $b\leq a$, then $a\wedge b = b$ and $a \vee b = b$,
so again Equation~\eqref{eq:ex:chain} holds.
\end{ex}

\begin{ex}
\label{E:1-valuation}
Let~$R$ be a \emph{lattice ordered} Abelian group.
Then we have the equality
\begin{equation*}
a\wedge b  + a\vee b \,=\, a+b \qquad(a,b\in R).
\end{equation*}
So: \emph{the identity map~$1_R$
and a lattice ordered Abelian group is a valuation}.
\end{ex}

\begin{lem}
\label{L:mod-comp}
Suppose we have the following situation
\begin{equation*}
\xymatrix{
L' \ar[r]^f&
L \ar[r]^\varphi&
E \ar[r]^g&
E',
}
\end{equation*}
where $L$, $L'$ are lattices,
$E$, $E'$ are ordered Abelian groups,
$f$ is a lattice homomorphism,
$\varphi$ a map,
and $g$ is a group homomorphism.
Then
\begin{enumerate}
\item
\label{L:mod-comp-mod}
$g\circ \varphi \circ f$ is modular
provided that $\varphi$ is modular;
\item
\label{L:mod-comp-val}
$g\circ \varphi \circ f$ is a valuation
provided that $\varphi$ is a valuation
and~$g$ is positive.
\end{enumerate}
\end{lem}
\begin{proof}
\noindent
\ref{L:mod-comp-mod}
\  Suppose~$\varphi$ is modular.
Let $a,b\in L'$ be given.
Writing $\varphi'= g\circ\varphi \circ f$,
we need to prove that
$\varphi'(a\wedge b)+\varphi'(a\vee b)=\varphi'(a)+\varphi'(b)$.
We have
\begin{alignat*}{3}
\varphi'(a) + \varphi'(b)
\ &=\ g(\varphi(f(a))) \,+\, g(\varphi(f(b))) \\
  &=\ g(\ \varphi( f(a)) + \varphi( f(b))\ ) \\
  &=\ g(\ \varphi(f(a)\wedge f(b)) + \varphi(f(a)\vee f(b))\ ) \\
  &=\ g(\  \varphi(f(a\wedge b)) \,+\, \varphi(f(a\vee b))\ ) \\
  &=\ g(\varphi(f(a\wedge b))) \,+\, g(\varphi(f(a\vee b))) \\ 
  &=\ \varphi'(a\wedge b) + \varphi'(a \vee b)
\end{alignat*}
\ref{L:mod-comp-val}
\  Suppose~$\varphi$ is a valuation
and~$g$ is positive.
We need to prove that~$\varphi'\eqdf g\circ \varphi\circ f$
is a valuation.
By part~\ref{L:mod-comp-mod}
we know that~$\varphi'$ is modular.
It remains to be shown that~$\varphi'$ is order preserving.
This is easy: $g$, $\varphi$, and~$f$ are all order preserving.
So $\varphi'=g\circ\varphi\circ f$ must be order preserving too.
\end{proof}

\begin{cor}
\label{C:hom-val}
Let~$R$ be a lattice ordered Abelian group.
\begin{enumerate}
\item
Any lattice homomorphism $f\colon L\ra R$ 
is a valuation;

\item
Let $E$ be an ordered Abelian group
and $g\colon R\ra E$ a group homomorphism.
Then $g$ is modular.
Moreover,
if~$g$ is positive,
then~$g$ is a valuation.
\end{enumerate}
\end{cor}
\begin{proof}
Apply Lemma~\ref{L:mod-comp} to the following situations.
\begin{equation*}
\xymatrix{
L\ar[r]^f &
R\ar[r]^{1_R} &
R\ar[r]^{1_R} &
R &&
R\ar[r]^{1_R} &
R\ar[r]^{1_R} &
R\ar[r]^{g} &
E}
\end{equation*}
(Recall that $1_R$ is a valuation,
see Example~\ref{E:1-valuation}.)
\end{proof}

\begin{ex}
Let~$\mathcal{L}$ be the set of Lebesgue-integrable functions on~$\R$.
It is a lattice ordered Abelian group.
The assignment $f\mapsto \int f$
yields an additive and positive map $\varphi\colon \mathcal{L}\ra \R$.
Hence $\varphi$ is a valuation (see Corollary~\ref{C:hom-val}).
\end{ex}


%
%                  LEMMA ON MODULARITY FOR MODULAR MAPS
%
\begin{lem}
\label{L:modular-map-modular}
Suppose $\varphi$ is modular.
For $\ell,u\in L$ with $\ell\leq u$, we have
\begin{equation}
\label{eq:modular-map}
\varphi(\,\ell \vee (a \wedge u)\,) 
\ =\ 
\varphi(\,(\ell\vee a)\wedge u\,)
\qquad (a\in L).
\end{equation}
\begin{proof}
The trick is to consider the expression 
$\varphi(\ell) + \varphi(a) + \varphi(u)$.
On the one hand,
\begin{align*}
\varphi(\ell) + \varphi(a) + \varphi(u)
\ &=\ \varphi(\ell\wedge a) + \varphi(\ell \vee a) + \varphi(u) \\
\ &=\ \varphi(\ell \wedge a)
      + \varphi(\,(\ell\vee a)\wedge u\,)
      + \varphi(a\vee u),
\end{align*}
where we have applied Equation~\eqref{eq:modular-map} twice.
On the other hand,
\begin{align*}
\varphi(\ell) + \varphi(a) + \varphi(u)
\ &=\ \varphi(\ell) + \varphi(a\wedge u) + \varphi(a \vee u) \\
\ &=\ \varphi(\ell \wedge a)
      + \varphi(\,\ell\vee (a\wedge u)\,)
      + \varphi(a\vee u).
\end{align*}
The difference,
$\varphi(\,(\ell\vee a)\wedge u\,)
- \varphi(\,\ell\vee (a\wedge u)\,)$,
must be zero.
\end{proof}
\end{lem}

%
%                  SYSTEMS
%
\begin{dfn}
We say $\vs{V}{L}{\varphi}{E}$
 is a \keyword{valuation system}
provided that
\begin{enumerate}
\item
$V$ is a lattice such that
$\bigvee a_n$ exists for all $a_1 \leq a_2 \leq \dotsb$
and $\bigwedge b_n$ exists for all $b_1 \geq b_2 \geq \dotsb$;

\item
$L$ is a sublattice of~$V$;

\item
$E$ is an ordered Abelian group;

\item
$\varphi\colon L \ra E$ is a valuation.
\end{enumerate}
\end{dfn}

\begin{ex}
Let $\mathcal{S}$ be the set of all finite intervals of~$\R$,
\begin{equation*}
(a,b)\qquad [a,b)\qquad (a,b]\qquad [a,b].
\end{equation*}
Let~$\mathcal{R}_\mathrm{L}$ be rthe ring generated by~$\mathcal{S}$.
Every element~$A$ of~$\mathcal{R}_\mathrm{L}$ is of the form
\begin{equation*}
I_1 \cup \dotsb \cup I_N
\end{equation*}
where $I_1,\dotsc,I_N\in \mathcal{R}_\mathrm{L}$
are disjoint.
Let $\lambda(A)$ be given by
\begin{equation*}
\lambda(A) \ \eqdf\  |I_1| + \dotsb + |I_N|.
\end{equation*}
One can verify that the number $\varphi(A)$
only depends on~$A$ and not on the choice of~$I_1,\dotsc,I_N$.
Hence we obtain a map~$\lambda\colon \mathcal{R}_\mathrm{L} \ra \R$.
Almost by definition $\lambda$ is additive and positive.
So $\lambda$ is modular and order preserving.

Hence $\vs{\wp \R}{\mathcal{R}_\mathrm{L}}{\lambda}{\R}$
is a valuation system.
\end{ex}

\begin{nt}
Let $\vs{V}{L}\varphi{E}$ be a valuation system.
Let $a_1 \leq a_2 \leq \dotsb$ be from~$L$.
Then $a_1 \leq a_2 \leq \dotsb$ has a supremum
in~$V$ and might have a supremum in~$L$.
We ignore the latter:
\emph{With $\bv a_n$
we always mean the supremum of~$a_1\leq a_2\leq \dotsb $ in~$V$}.
\end{nt}

%
%                  THE R-property
%
\begin{dfn}
\label{D:R-property}
Let $E$ be an ordered Abelian group.
Consider the following.
\begin{equation*}
\left[\quad 
\begin{minipage}{.7\columnwidth}
Let $x_1 \leq x_2 \leq \dotsb$
and $y_1 \leq y_2 \leq \dotsb$ be from~$E$
such that
\begin{equation*}
x_{n+1} - x_n \ \leq\ y_{n+1} - y_n\qquad \text{for all }n.
\end{equation*}
Then $\bv y_n $ exists implies that $\bv x_n$ exists.
\end{minipage}
\right.
\end{equation*}
If the above statement holds,
we say~$E$ has the \keyword{$R$-property}.
\end{dfn}

\begin{exs}
\begin{enumerate}
\item
Any $\sigma$-Dedekind complete Riesz space has the $R$-property.

\item
The lexicographic plane~$\Lex$ (see Definition~\todo{add reference})
has the $R$-property,
but~$\Lex$ is not $\sigma$-Dedekind complete.
\end{enumerate}
\end{exs}


\end{document}
