\documentclass[main.tex]{subfiles}
\begin{document}
\section{Valuations}
\subsection{Introduction}
\noindent
%
%          DEFINITION OF MODULAR MAPS
%
\begin{dfn}
\label{D:val}
Let $L$ be a lattice, $E$ an ordered Abelian group,
and $\varphi\colon L \ra E$.
\begin{enumerate}
\item
\label{D:val-mod}
$\varphi$ is \keyword{modular} provided that
\begin{equation*}
\varphi(a\wedge b) + \varphi(a \vee b)
\ =\ 
\varphi(a) + \varphi(b)
\qquad(a,b\in L).
\end{equation*}

\item
\label{D:val-val}
$\varphi$ is a \keyword{valuation}
provided that $\varphi$ is modular and order preserving.
\end{enumerate}
\end{dfn}

\begin{ex}
Let $\mathcal{F}$ be the set of finite subsets of~$\N$,
and for each $A\in \mathcal{F}$,
let $\#(A)$ be the number of elements of~$A$.
Then
$\mathcal{F}$ is a lattice of subsets of~$\N$,
and
\begin{equation*}
\#(A\cap B) + \#(A\cup B) \,=\, \#(A) + \#(B)
\qquad(A,B\in\mathcal{F}).
\end{equation*}
So the map $\#\colon \mathcal{F}\rightarrow \N$
given by $A\mapsto \#(A)$ is modular.

Since $\#$ is also order preserving,
$\#$ is a valuation.
\end{ex}

\begin{ex}
\label{E:lmeas-val}
Let $\mathcal{A}$ be the set of Lebesgue-measurable
subsets of~$\R$ with finite measure.
Then~$\mathcal{A}$ is a lattice of subsets of~$\R$.
Given~$A\in\mathcal{A}$,
let $\lambda(A)$ denote the measure of~$A$.
Then $A\subseteq B \implies \lambda(A)\leq \lambda (B)$
for all $A,B\in \mathcal{A}$,
and 
\begin{equation*}
\lambda(A\cap B) + \lambda(A\cup B) \,=\, \lambda(A) + \lambda(B)
\qquad(A,B\in\mathcal{A}).
\end{equation*}
So~$\lambda$ is a lattice valuation.
\end{ex}

\begin{ex}
\label{E:ring-val}
Let~$X$ be a set and let~$\mathcal{A}$ be a ring of subsets of~$X$.
That is,
\begin{equation*}
A\cap B,\qquad\qquad A\cup B,\qquad\qquad A\backslash B
\end{equation*}
are in~$\mathcal{A}$ for all $A,B\in\mathcal{A}$.
Then clearly~$\mathcal{A}$ is a lattice.

Let $E$ be an ordered Abelian group
and let~$\mu\colon \mathcal{A}\rightarrow \R$ be a map.
Recall that~$\mu$ is \keyword{additive} if $\mu(A) + \mu(B) = \mu(A\cup B)$
for all $A,B\in\mathcal{A}$ with $A\cap B=\varnothing$.

\emph{If~$\mu$ is additive,
then $\mu$ is modular.}
Indeed,
let $A,B\in \mathcal{A}$ be given. We need to prove that
$\mu(A) + \mu(B) =\mu(A\cap B) + \mu(A\cup B)$
assuming~$\mu$ is additive.
We have
\begin{alignat*}{6}
\mu(A) + \mu(B) \,
  & =\, \mu(A\cap B \ \cup\ A\backslash B) + \mu(B) \\ 
  & =\, \mu(A\cap B) + \mu(A\backslash B)  + \mu(B)\qquad
    && \text{since } A\cap B \ \cap\ A\backslash B = \varnothing \\ 
  & =\, \mu(A\cap B) + \mu(A\backslash B \ \cup\ B ) 
    && \text{since } A\backslash B\ \cap\ B = \varnothing \\
  & =\, \mu(A\cap B) + \mu(A\cup B).
\end{alignat*}

Recall that~$\mu$ is \keyword{positive} whenever
$\mu(A)\in E^+$ for all~$A\in\mathcal{A}$.

\emph{If~$\mu$ is additive and positive,
then~$\mu$ is a valuation.}
Since~$\mu$ is additive,
$\mu$ is modular.
It remains to be shown that~$\mu$ is order preserving
(see Definition~\ref{D:val}).
Let $A\subseteq B$ from~$\mathcal{A}$ be given
in order to prove $\mu(A)\leq \mu(B)$.
We have
\begin{equation*}
(B\backslash A)\,\cup\, A\,=\,B,\qquad\qquad 
(B\backslash A)\,\cap\, A\,=\,\varnothing.
\end{equation*}
So by additivity, 
$\mu(B)=\mu(B\backslash A)+\mu(A)$.
Then $\mu(B)\geq \mu(A)$, since $\mu(B\backslash A)\geq 0$.
\end{ex}

In Example~\ref{E:lmeas-val}
we saw that the Lebesgue-measure is a valuation.
We will now prove that the Lebesgue-integral is a also valuation
(see Example~\ref{E:int-val}).
For this,
we need the following general observations.
\begin{ex}
\label{E:1-valuation}
Let~$R$ be a \emph{lattice ordered} Abelian group.
Then we have the equality
\begin{equation*}
a\wedge b  + a\vee b \,=\, a+b \qquad(a,b\in R).
\end{equation*}
So: \emph{the identity map~$1_R$
on a lattice ordered Abelian group~$R$ is a valuation}.
\end{ex}

\begin{lem}
\label{L:mod-comp}
Suppose we have the following situation
\begin{equation*}
\xymatrix{
L' \ar[r]^f&
L \ar[r]^\varphi&
E \ar[r]^g&
E',
}
\end{equation*}
where $L$, $L'$ are lattices,
$E$, $E'$ are ordered Abelian groups,
$f$ is a lattice homomorphism,
$\varphi$ a map,
and $g$ is a group homomorphism.
Then
\begin{enumerate}
\item
\label{L:mod-comp-mod}
$g\circ \varphi \circ f$ is modular
provided that $\varphi$ is modular;
\item
\label{L:mod-comp-val}
$g\circ \varphi \circ f$ is a valuation
provided that $\varphi$ is a valuation
and~$g$ is positive.
\end{enumerate}
\end{lem}
\begin{proof}
\noindent
\ref{L:mod-comp-mod}
\  Suppose~$\varphi$ is modular.
Let $a,b\in L'$ be given.
Writing $\varphi'= g\circ\varphi \circ f$,
we need to prove that
$\varphi'(a\wedge b)+\varphi'(a\vee b)=\varphi'(a)+\varphi'(b)$.
We have
\begin{alignat*}{3}
\varphi'(a) + \varphi'(b)
\ &=\ g(\varphi(f(a))) \,+\, g(\varphi(f(b))) \\
  &=\ g(\ \varphi( f(a)) + \varphi( f(b))\ ) \\
  &=\ g(\ \varphi(f(a)\wedge f(b)) + \varphi(f(a)\vee f(b))\ ) \\
  &=\ g(\  \varphi(f(a\wedge b)) \,+\, \varphi(f(a\vee b))\ ) \\
  &=\ g(\varphi(f(a\wedge b))) \,+\, g(\varphi(f(a\vee b))) \\ 
  &=\ \varphi'(a\wedge b) + \varphi'(a \vee b)
\end{alignat*}
\ref{L:mod-comp-val}
\  Suppose~$\varphi$ is a valuation
and~$g$ is positive.
We need to prove that~$\varphi'\eqdf g\circ \varphi\circ f$
is a valuation.
By part~\ref{L:mod-comp-mod}
we know that~$\varphi'$ is modular.
It remains to be shown that~$\varphi'$ is order preserving.
This is easy: $g$, $\varphi$, and~$f$ are all order preserving.
So $\varphi'=g\circ\varphi\circ f$ must be order preserving too.
\end{proof}

\begin{cor}
\label{C:hom-val}
Let~$R$ be a lattice ordered Abelian group.
\begin{enumerate}
\item
\label{C:hom-val-lat}
Any lattice homomorphism $f\colon L\ra R$ 
is a valuation;

\item
\label{C:hom-val-group}
Let $E$ be an ordered Abelian group
and $g\colon R\ra E$ a group homomorphism.
Then $g$ is modular.
Moreover,
if~$g$ is positive,
then~$g$ is a valuation.
\end{enumerate}
\end{cor}
\begin{proof}
Apply Lemma~\ref{L:mod-comp} to the following situations.
\begin{equation*}
\xymatrix{
L\ar[r]^f &
R\ar[r]^{1_R} &
R\ar[r]^{1_R} &
R &&
R\ar[r]^{1_R} &
R\ar[r]^{1_R} &
R\ar[r]^{g} &
E}
\end{equation*}
(Recall that $1_R$ is a valuation,
see Example~\ref{E:1-valuation}.)
\end{proof}

\begin{ex}
\label{E:int-val}
Let~$\mathcal{L}$ be the set of Lebesgue-integrable functions on~$\R$.
It is a lattice ordered Abelian group.
The assignment $f\mapsto \int f$
yields an additive and positive map $\varphi\colon \mathcal{L}\ra \R$.
Hence $\varphi$ is a valuation (see Corollary~\ref{C:hom-val}).
\end{ex}

\begin{ex}
Let $C$ be a chain;
i.e. a totally ordered set.
Then $C$ is a lattice with
\begin{equation*}
a\wedge b = \min\{a,b\},
 \qquad 
a\vee b = \max\{a,b\}.
\end{equation*}
\emph{Any map $f\colon C\rightarrow E$
to an ordered Abelian group is modular}
Indeed,
let $a,b\in C$ be given.
Then either $a\leq b$ or $b\leq a$.
We need to prove that 
\begin{equation}
\label{eq:ex:chain}
f(a\wedge b) + f(a \vee b) \,=\, f(a) + f(b).
\end{equation}
Suppose $a\leq b$. Then $a\wedge b = a$ and $a \vee b= b$.
Hence Equation~\eqref{eq:ex:chain} holds.  
If $b\leq a$, then $a\wedge b = b$ and $a \vee b = b$,
so again Equation~\eqref{eq:ex:chain} holds.
\end{ex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%j%
%
%
%                  ELEMENTARY PROPERTIES
%                     of valuations
%
%
\subsection{Distance induced by a valuation}
Fix a lattice~$L$,
an ordered Abelian group~$E$
and a valuation~$\varphi\colon L\ra E$.
In this Subsection,
we derive some elementary properties of~$\varphi$.
Most of these are concerned with the following notion
of distance.
\begin{dfn}
\label{D:d}
\quad
$\ld\varphi(a,b)\eqdf \varphi(a\vee b) - \varphi(a \wedge b)$
\quad
for all $a,b\in L$.
\end{dfn}
\begin{lem}
\label{L:d-metric}
We have:
\begin{enumerate}
\item\label{d-metric_self} 
$\ld\varphi(a,a)=0$ for all $a\in L$.
\item\label{d-metric_sym}
$\ld\varphi(a,b)=\ld\varphi(b,a)$ for all $a,b\in L$.
\item\label{d-metric_triangle}
$\ld\varphi(a,b)\leq\ld\varphi(a,z)+\varphi(z,b)$
for all $a,b,z\in L$.
\end{enumerate}
\end{lem}
\begin{proof}
Only point~\ref{d-metric_triangle} requires some work.
Let $a,b,z\in L$ be given.
We want to show that $\ld\varphi(a,b) \leq \ld\varphi(a,z)+\ld\varphi(z,b)$.
In other words:
\begin{equation}
\label{eq:d-metric}
\varphi(a\vee b) + \varphi(a\wedge z) + \varphi (z\wedge b)
\ \leq\ 
\varphi (a\vee z) + \varphi(z\vee b) + \varphi (a\wedge b)\text{.}
\end{equation}

\end{proof}
%
%                  CURRY-WC-UNIF
%
\begin{lem}
\label{L:curry-wc-unif}
\quad
$\ld\varphi(a\wedge z,\,b\wedge z)+
 \ld\varphi(a\vee z,b\vee z)\,\leq\,\ld\varphi(a,b)$
\quad for all $a,b,z\in L$.
\end{lem}
\begin{proof}
By expanding Definition~\ref{D:d},
we see that 
we need to prove that
\begin{equation}
\label{eq:curry-wc-unif}
\begin{split}
\varphi(a\vee b\vee z) \,+\,
\varphi(\,(a\wedge z)\vee(b\wedge z)\,) & \,+\,
\varphi(a\wedge b) \\
\ \leq\ 
\varphi(a \vee b)  \,+\, &
\varphi(\,(a\vee z)\wedge(b\vee z)\,) \,+\,
\varphi(a\wedge b \wedge z)
\end{split}
\end{equation}
By modularity,
the left-hand side equals
\begin{equation*}
\varphi(a\vee b \vee z) \,+\,
\varphi(\, (a\wedge z) \vee (b\wedge z) \vee (a\wedge b)\,) \,+\,
\varphi(\,a\wedge b\wedge ( (a \wedge z) \vee (b\wedge z) )\,).
\end{equation*}
To simplify the above equation,
we prove that
$a\wedge b\wedge ( (a \wedge z) \vee (b\wedge z)=a\wedge b\wedge z$.
To this end, note that
$a\wedge z \,\leq\, (a\wedge z)\vee (b\wedge z)$
and
$(a\wedge z)\vee(b\wedge z) \leq z$,
so that 
\begin{equation*}
a\wedge b\wedge z
\, =\, a\wedge b \wedge (a\wedge z)
\,\leq\, a\wedge b \wedge ((a\wedge z)\vee (b\wedge z))
\,\leq\, a\wedge b \wedge z.
\end{equation*}
Hence the left-hand side of Equation~\eqref{eq:curry-wc-unif}
equals
\begin{equation*}
\varphi(a\vee b \vee z) \,+\,
\varphi(\, (a\wedge z) \vee (b\wedge z) \vee (a\wedge b)\,) \,+\,
\varphi(\,a\wedge b\wedge z\,).
\end{equation*}
In a similar fashion,
one can show that the right-hand side of Equation~\eqref{eq:curry-wc-unif}
equals
\begin{equation*}
\varphi(a\vee b \vee z) \,+\,
\varphi(\, (a\vee z) \wedge (b\vee z) \wedge (a\vee b)\,) \,+\,
\varphi(\,a\wedge b\wedge z\,).
\end{equation*}
So in order to prove Equation~\eqref{eq:curry-wc-unif} holds,
we must show that
\begin{equation*}
\varphi(\, (a\wedge z) \vee (b\wedge z) \vee (a\wedge b)\,) 
\ \leq\ 
\varphi(\, (a\vee z) \wedge (b\vee z) \wedge (a\vee b)\,).
\end{equation*}
Since $\varphi$ is order preserving,
it suffices to show that 
\begin{equation*}
 (a\wedge z) \vee (b\wedge z) \vee (a\wedge b)
\ \leq\ 
  (a\vee z) \wedge (b\vee z) \wedge (a\vee b).
\end{equation*}
Writing $c_1 = a$, $c_2 = b$, and $c_3 = z$,
we must prove that 
\begin{equation*}
\bv_{i\neq j}\, c_i \wedge c_j \ \leq\ \bw_{k\neq \ell}\, c_k \vee c_\ell.
\end{equation*}
That is,
we must show that 
$c_i \wedge c_j \leq c_k \vee c_\ell$
for given $i\neq j$ and $k\neq \ell$.
Now, note
\begin{equation*}
\# (\{ i,j \} \cap \{ k,\ell\}) + \#\{i,j,k,\ell\}
\ = \ \# \{i,j\} + \# \{k,\ell \}
\ = \ 4.
\end{equation*}
Since  $\# \{ i,j,k,\ell \}\leq 3$,
we see that $\# \{ i,j \} \cap \{ k,\ell\} \geq 1$.
So pick $m\in  \{ i,j \} \cap \{ k,\ell\}$.
Then $c_i \wedge c_j \leq c_m \leq c_k \vee c_\ell$.
\end{proof}
%
%                  WC-UNIF
%
\begin{lem}
\label{L:wv-unif}
Let $a,b,w,z\in L$.  Then:
\begin{equation*}
\ld\varphi(a\wedge w,b\wedge z) + \ld\varphi(a \vee w,b\vee z)
\ \leq\ 
\ld\varphi(a,b) + \ld\varphi(w,z).
\end{equation*}
\end{lem}
\begin{proof}
By the triangle inequality (point~\ref{d-metric_triangle}
of Lemma~\ref{L:d-metric}),
we have
\begin{equation}
\label{eq:L:d-metric-1}
\begin{alignedat}{3}
\ld\varphi(a\wedge w,\,b\wedge z)\ &\leq\ 
\ld\varphi(a\wedge w,\,b\wedge w)\,+\,
\ld\varphi(b\wedge w,\,b\wedge z), \\
\ld\varphi(a\vee w,\,b\vee z)\ &\leq\ 
\ld\varphi(a\vee w,\,b\vee w)\,+\,
\ld\varphi(b\vee w,\,b\vee z).
\end{alignedat}
\end{equation}
On the other hand, Lemma~\ref{L:curry-wc-unif} gives us
\begin{equation}
\label{eq:L:d-metric-2}
\begin{alignedat}{3}
\ld\varphi(a\wedge w,b\wedge w) + \ld\varphi(a\vee w,b\vee w)
   \ &\leq\ \ld\varphi(a,b), \\
\ld\varphi(b\wedge w,b\wedge z) + \ld\varphi(b\vee w, b\vee z)
   \ &\leq\ \ld\varphi(w,z).
\end{alignedat}
\end{equation}
The sum of the right-hand sides of Equation~\eqref{eq:L:d-metric-1}
equals the sum of the left-hand sides of Equation~\eqref{eq:L:d-metric-2}.
Hence
$\ld\varphi(a\wedge w,b\wedge z) + \ld\varphi(a \vee w,b\vee z)
\leq 
\ld\varphi(a,b) + \ld\varphi(w,z)$.
\end{proof}
%
%                  LEMMA ON MODULARITY FOR MODULAR MAPS
%
\begin{lem}
\label{L:modular-map-modular}
For $\ell,u\in L$ with $\ell\leq u$, we have
\begin{equation}
\label{eq:modular-map}
\varphi(\,\ell \vee (a \wedge u)\,) 
\ =\ 
\varphi(\,(\ell\vee a)\wedge u\,)
\qquad (a\in L).
\end{equation}
\begin{proof}
The trick is to consider the expression 
$\varphi(\ell) + \varphi(a) + \varphi(u)$.
On the one hand,
\begin{align*}
\varphi(\ell) + \varphi(a) + \varphi(u)
\ &=\ \varphi(\ell\wedge a) + \varphi(\ell \vee a) + \varphi(u) \\
\ &=\ \varphi(\ell \wedge a)
      + \varphi(\,(\ell\vee a)\wedge u\,)
      + \varphi(a\vee u),
\end{align*}
where we have applied Equation~\eqref{eq:modular-map} twice.
On the other hand,
\begin{align*}
\varphi(\ell) + \varphi(a) + \varphi(u)
\ &=\ \varphi(\ell) + \varphi(a\wedge u) + \varphi(a \vee u) \\
\ &=\ \varphi(\ell \wedge a)
      + \varphi(\,\ell\vee (a\wedge u)\,)
      + \varphi(a\vee u).
\end{align*}
The difference,
$\varphi(\,(\ell\vee a)\wedge u\,)
- \varphi(\,\ell\vee (a\wedge u)\,)$,
must be zero.
\end{proof}
\end{lem}



\section{Valuation systems}
\subsection{Simple valuation systems}
%
%                  SYSTEMS
%
\begin{dfn}
\label{D:simple-system}
We say $\vs{V}{L}{\varphi}{E}$
 is a \keyword{simple valuation system}
provided that
\begin{enumerate}
\item \label{D:simple-system-1}
$V$ is a lattice
such that $\bw_n c_n$ and $\bv_n c_n$ exists for all~$c_1,c_2,\dotsc\in V$;
\item \label{D:simple-system-2}
$L$ is a sublattice of~$V$;
\item \label{D:simple-system-3}
$E$ is an ordered Abelian group;
\item \label{D:simple-system-4}
$\varphi\colon L\ra E$ is a valuation.
\end{enumerate}
\end{dfn}

\begin{ex}
\label{E:ring-system}
Let~$X$ be a set, 
$\mathcal{A}$ a ring of sets,
and $\mu\colon \mathcal{A}\ra \R$
a possitive and additive map.
Then we have the following simple valuation system:
\begin{equation*}
\vs{\wp X}{\mathcal{A}}\mu{\R}
\end{equation*}
Indeed, $\wp X$ is lattice with 
$\bw_n A_n = \bigcap_n A_n$
and $\bv_n A_n = \bigcup_n A_n$ for all $A_i \in \wp X$,
$\mathcal{A}$ is a sublattice of~$\wp X$
by definition,
$\R$ is an ordered Abelian group,
and we have already seen in Example~\ref{E:ring-val}
that $\mu\colon \mathcal{A}\ra \R$ is a valuation.
\end{ex}

\begin{ex}
Let $\mathcal{S}$ be the set of all finite intervals of~$\R$,
\begin{equation*}
(a,b)\qquad [a,b)\qquad (a,b]\qquad [a,b].
\end{equation*}
Let~$\mathcal{R}_\mathrm{L}$ be the ring generated by~$\mathcal{S}$.
Every element~$A$ of~$\mathcal{R}_\mathrm{L}$ is of the form
\begin{equation*}
I_1 \cup \dotsb \cup I_N
\end{equation*}
where $I_1,\dotsc,I_N\in \mathcal{R}_\mathrm{L}$
are disjoint.
Let $\sigma(A)$ be given by
\begin{equation*}
\sigma(A) \ \eqdf\  |I_1| + \dotsb + |I_N|.
\end{equation*}
One can verify that the number $\sigma(A)$
only depends on~$A$ and not on the choice of~$I_1,\dotsc,I_N$.
Hence we obtain a map~$\sigma\colon \mathcal{R}_\mathrm{L} \ra \R$.
Almost by definition $\sigma$ is additive and positive.
So $\sigma$ is a valuation 
(see Example~\ref{E:ring-val}).

Hence $\vs{\wp \R}{\mathcal{R}_\mathrm{L}}{\sigma}{\R}$
is a simple valuation system.
\end{ex}

\todo{Add more examples of systems}

\begin{nt}
Let $\vs{V}{L}\varphi{E}$ be a simple valuation system.
Let $a_1, a_2, \dotsc$ be from~$L$.
Then $a_1, a_2,\dotsc$ has a supremum
in~$V$ and might have a supremum in~$L$.
We ignore the latter:
\emph{With $\bv_n a_n$
we always mean the supremum of~$a_1, a_2,\dotsc $ in~$V$}.
\end{nt}

\subsection{Completeness}
%
%                  COMPLETE SYSTEMS
%
\begin{dfn}
Let $\vs{V}{L}\varphi{E}$ be a simple valuation system.

Consider a sequence
$a_1 \geq a_2 \geq \dotsb$ from~$L$.
We say
\begin{equation*}
a_1 \geq a_2 \geq \dotsb \text{ is \keyword{$\varphi$-convergent}}
\qquad\text{if}\qquad \bw_n \varphi(a_n)\text{ exists.}
\end{equation*}

Similarly,
if
$b_1 \leq b_2 \leq \dotsb$ is
a sequence in~$L$, then 
\begin{equation*}
b_1 \leq b_2 \leq \dotsb \text{ is \keyword{$\varphi$-convergent}}
\qquad\text{if}\qquad \bv_n \varphi(b_n)\text{ exists.}
\end{equation*}
\end{dfn}
%
%                  COMPLETE VALUATION
%
\begin{dfn}
\label{D:system-complete}
A simple valuation system 
$\vs{V}{L}\varphi{E}$ is \keyword{complete} provided that
\begin{alignat*}{5}
a_1 \geq a_2 \geq \dotsb \text{$\varphi$-convergent }
  \quad &\implies \quad 
  & \bw_n a_n &\in L\quad 
  &&\text{and}\quad
  &\varphi(\,\bw_n a_n\,) &= \bw_n \varphi(a_n); \\
b_1 \leq b_2 \leq \dotsb \text{$\varphi$-convergent }
  \quad &\implies \quad 
  & \bv_n b_n &\in L\quad 
  &&\text{and}\quad
  &\varphi(\,\bv_n b_n\,) &= \bv_n \varphi(b_n).
\end{alignat*}
\end{dfn}

\todo{Add examples of complete systems}

\subsection{$\sigma$-distributivity and the $R$-property}
We would like to
extend a given simple valuation system to a complete one.
To make the theory work,
we concern ourselfes only with certain
simple valuation systems,
which we plainly call ``valuation systems'' (see Definition~\ref{D:system}).
%
%                  ADDITIONAL RESTRICIONS ON THE SYSTE
% 
\begin{dfn}
Let~$V$ be a lattice.
We say~$V$ is
\keyword{$\sigma$-distributive}
provided that
\begin{alignat*}{3}
\bw_n c_n\text{ exists} \quad&\implies\quad
&a \vee \bw_n c_n &= \bw_n b\vee c_n, \\
\bv_n c_n\text{ exists} \quad&\implies\quad
&a \wedge \bv_n c_n &= \bv_n b\wedge c_n,
\end{alignat*}
where $a,\,c_1,c_2,\dotsc\in V$.
\end{dfn}
\begin{exs}
\begin{enumerate}
\item
Let $X$ be a set. Then $\wp(X)$ is $\sigma$-distributive.
Indeed,  
\begin{equation*}
\textstyle{
A \cup \bigcap_n C_n \,=\, \bigcap_n A \cup C_n
\qquad
A\cap \bigcup_n C_n \,=\, \bigcup_n A \cap C_n}
\end{equation*}
for all $A,\, C_1,C_2,\dotsc \subseteq X$.
Moreover,
we have already seen
that~$\wp(X)$ satisfies condition~\ref{D:simple-system-1}
of Definition~\ref{D:simple-system}
(see Example~\ref{E:ring-system}).
\item
Let $C$ be totally ordered. Then $C$ is $\sigma$-distributive.

Indeed,
let $a,\,c_1,c_2,\dotsc \in C$ be such that $\bw_n c_n$
exists. We need to prove that $a \vee \bw_n c_n$ is the 
infimum of $A \eqdf \{ a \vee c_n\colon n\in \N \}$.
Since $\bw_n c_n \leq c_n$,
we have $a \vee \bw_n c_n \leq a \vee c_n$,
so $a\vee\bw_n c_n$ is a lower bound of~$A$.
Let~$\ell$
be any lower bound of~$A$.
We need to prove that $\ell \leq a\vee \bw_n c_n$.
Let $N\in \N$ be given.
We have $\ell \leq a \vee c_N$,
so either $\ell \leq a$ or $\ell \leq c_N$
(recall that $a\vee c_N = \max\{a,c_N\}$).
If $\ell \leq a$, then $\ell \leq a \vee \bw_n c_n$.
On the other hand,
if $\ell \leq c_n$ for all~$n$,
then $\ell \leq \bw_n c_n \leq a \vee \bw_n c_n$.
So in any case,
$\ell \leq a \vee \bw_n c_n$.

With the same argument,
one can prove that $a \wedge \bv_n c_n = \bv a \wedge c_n$
for all $a,\,c_1,c_2,\dotsc \in C$
such that $\bv_n c_n$ exists.
Hence $C$ is $\sigma$-distributive.

\item
The lattice of the real numbers~$\R$ is a chain
and hence $\sigma$-distributive.

However,
$\R$ does not satisfy condition~\ref{D:simple-system-1}
of Definition~\ref{D:simple-system}.
Indeed,
a sequence $c_1,c_2,\dotsc$ in~$\R$ has a supremum
if and only if it is bounded from above,
i.e. there is an~$a\in \R$ such that $c_n \leq a$
for all~$n$.
Similarly,
a sequence
$c_1,c_2,\dotsc\in \R$ has an infimum
if and only if it is bounded from below.

\item
Let $\E$ be the lattice of the extended real numbers.
Then $\E$ is a chain and hence $\sigma$-distributive.
Moreover,
$\E$ also satisfies condition~\ref{D:simple-system-1}
of Definition~\ref{D:simple-system}.

\item
Let $I$ be a set,
and for each~$i\in I$,
let $L_i$ be a $\sigma$-distributive lattice.
Then the product $L\eqdf \prod_{i\in I} L_i$
is $\sigma$-distributive.
Moreover,
if $L_i$ satisfies condition~\ref{D:simple-system-1}
of Definition~\ref{D:simple-system}
for every~$i\in I$,
then $L$ satisfies condition~\ref{D:simple-system-1}
of Definition~\ref{D:simple-system}.

\item
Let $X$ be a set.
Then lattice $\EX$ of functions from~$X$ to~$\E$
is $\sigma$-distributive and satisfies
condition~\ref{D:simple-system-1}
of Definition~\ref{D:simple-system}.
\end{enumerate}
\end{exs}
%
%                  THE R-property
%
\begin{dfn}
\label{D:R-property}
Let $E$ be an ordered Abelian group.
Consider the following.
\begin{equation*}
\left[\quad 
\begin{minipage}{.7\columnwidth}
Let $x_1 \leq x_2 \leq \dotsb$
and $y_1 \leq y_2 \leq \dotsb$ be from~$E$
such that
\begin{equation*}
x_{n+1} - x_n \ \leq\ y_{n+1} - y_n\qquad \text{for all }n.
\end{equation*}
Then $\bv y_n $ exists implies that $\bv x_n$ exists.
\end{minipage}
\right.
\end{equation*}
If the above statement holds,
we say~$E$ has the \keyword{$R$-property}.
\end{dfn}

\begin{exs}
\begin{enumerate}
\item
Any $\sigma$-Dedekind complete Riesz space has the $R$-property.

\item
In particular, $\R$ has the $R$-property.

\item
The lexicographic plane~$\Lex$ (see Definition~\todo{add reference})
has the $R$-property,
but~$\Lex$ is not $\sigma$-Dedekind complete.
\end{enumerate}
\end{exs}

\begin{rem}
Let~$E$ be an ordered Abelian group.
Using the map $x\mapsto -x$,
one can easily verify
that $E$ has the $R$-property
if and only if the following statement holds.
\begin{equation*}
\left[\quad 
\begin{minipage}{.7\columnwidth}
Let $x_1 \geq x_2 \geq \dotsb$
and $y_1 \geq y_2 \geq \dotsb$ be from~$E$
such that
\begin{equation*}
x_{n} - x_{n+1}\ \leq\ y_{n} - y_{n+1}\qquad \text{for all }n.
\end{equation*}
Then $\bw y_n $ exists implies that $\bw x_n$ exists.
\end{minipage}
\right.
\end{equation*}
\end{rem}

\begin{prop}
\label{P:R-main}
Let  $E$ be an ordered Abelian group which
has the $R$-property.
Let~$L$ be a lattice and $\varphi\colon L \ra E$ a valuation.
\begin{enumerate}
\item
\label{P:R-main-descending}
If  $a_1 \geq a_2 \geq \dotsb$,
$b_1 \geq b_2 \geq \dotsb$
are  $\varphi$-convergent
sequences from~$L$,
then
\begin{equation*}
a_1 \wedge b_1 \,\geq\, a_2 \wedge b_2 \,\geq\, \dotsb
\qquad\text{and}\qquad
a_1 \vee b_1 \,\geq\, a_2 \vee b_2 \,\geq\, \dotsb
\end{equation*}
are $\varphi$-convergent.

\item
\label{P:R-main-ascending}
If  $a_1 \leq a_2 \leq \dotsb$,
$b_1 \leq b_2 \leq \dotsb$
are  $\varphi$-convergent
sequences from~$L$,
then
\begin{equation*}
a_1 \wedge b_1 \,\leq\, a_2 \wedge b_2 \,\leq\, \dotsb
\qquad\text{and}\qquad
a_1 \vee b_1 \,\leq\, a_2 \vee b_2 \,\leq\, \dotsb
\end{equation*}
are $\varphi$-convergent.
\end{enumerate}
\end{prop}
\begin{proof}
\ref{P:R-main-descending}\ 
We prove that $a_1 \wedge b_1 \geq a_2 \wedge b_2 \geq\dotsb$
is $\varphi$-convergent.
For this we need to show that $\bw_n \varphi(a_n\wedge b_n)$ exists.
Note that since $\bw_n \varphi (a_n)$
and $\bw_n \varphi(b_n)$ exist,
we know that $\bw_n \ \varphi(a_n) + \varphi(b_n)$
exists (see Lemma~??).
So by the $R$-property,
in order to show $\bw_n\varphi(a_n \wedge b_n)$ exists,
it suffices to prove that 
\begin{equation*}
\varphi(a_{n}\wedge b_{n}) \,-\, \varphi(a_{n+1} \wedge b_{n+1}) 
\ \leq\ 
\varphi(a_{n}) + \varphi(b_{n}) \,-\, (\,\varphi(a_{n+1}) + \varphi(b_{n+1})\,).
\end{equation*}
Phrased differently
using the distance ``$d_\varphi$'',
we need to prove that
\begin{equation*}
d_\varphi(a_{n}\wedge b_{n},\, a_{n+1} \wedge b_{n+1}) 
\ \leq\ 
d_\varphi(a_{n},a_{n+1}) + d_\varphi(b_{n},b_{n+1}).
\end{equation*}
This follows immediately from Lemma~\ref{L:wv-unif}.

The 
proof that~$a_1 \vee b_1 \geq a_2 \vee b_2 \geq \dotsb$
is $\varphi$-convergent is similar.

\ref{P:R-main-ascending}.  Again, similar.
\end{proof}

\subsection{Valuation systems}
\begin{dfn}
\label{D:system}
A \keyword{valuation system} $\vs{V}{L}\varphi{E}$
is a simple valuation system
for which~$V$ is $\sigma$-distributive
and $E$ has the $R$-property.
\end{dfn}
\todo{Add examples of valuation systems.}

For the following it is convenient to `split' the notion
of complete valuation.
\begin{dfn}
\label{D:system-complete2}
Let $\vs{V}{L}\varphi{E}$ be
a valuation system.
\begin{enumerate}
\item
\label{D:system-complete2-pi}
We say $\vs{V}{L}\varphi{E}$ is \keyword{$\Pi$-complete}
provided that
\begin{alignat*}{5}
a_1 \geq a_2 \geq \dotsb \text{$\varphi$-convergent }
  \quad &\implies \quad 
  & \bw_n a_n &\in L\quad 
  &&\text{and}\quad
  &\varphi(\,\bw_n a_n\,) &= \bw_n \varphi(a_n). 
\end{alignat*}
\item
We say $\vs{V}{L}\varphi{E}$ is \keyword{$\Sigma$-complete}
provided that
\begin{alignat*}{5}
b_1 \leq b_2 \leq \dotsb \text{$\varphi$-convergent }
  \quad &\implies \quad 
  & \bv_n b_n &\in L\quad 
  &&\text{and}\quad
  &\varphi(\,\bv_n b_n\,) &= \bv_n \varphi(b_n). 
\end{alignat*}

\end{enumerate}
\end{dfn}

%
%                     PI L
%

\subsection{The $\Pi$-extension}
Let $\vs{V}{L}\varphi{E}$ be a valuation system.
Before we try to extend $\vs{V}{L}\varphi{E}$ to a complete
valuation system, 
we study whether $\vs{V}{L}\varphi{E}$
can be extended to a $\Pi$-complete valuation system.

\begin{dfn}
\label{D:PiL}
$\ \Pi L \ \eqdf \ \{ 
\bw_n a_n \colon \ \text{$\varphi$-convergent }
 a_1\geq a_2 \geq\dotsb \text{ from $L$} \}.$
\end{dfn}
%
%                  Pi(L) is lattice
%
\begin{lem}
\label{L:PiL-lattice}
$\Pi L$ is a sublattice of~$V$,
and $L$ is a sublattice of~$\Pi L$.
\end{lem}
\begin{proof}
We first prove that~$\Pi L$ is a sublattice of~$V$.
Let $a,b\in \Pi L$ be given;
we need to prove that $a\wedge b \in \Pi L$
and $a \vee b \in \Pi L$.
Determine $\varphi$-convergent 
$a_1 \geq a_2 \geq\dotsb$ and
$b_1 \geq b_2 \geq\dotsb$
with $a = \bw_n a_n$ and  $b=\bw_n b_n$.
Then $a_1 \wedge b_1 \geq a_2 \wedge b_2 \geq \dotsb$
is $\varphi$-convergent by Proposition~\ref{P:R-main},
and we have $\bw_n a_n \wedge b_n = a\wedge b$.
Hence $a\wedge b \in \Pi L$.
Similarly,
$a_1 \vee b_1 \geq a_2 \vee b_2 \geq \dotsb$
is $\varphi$-convergent by Proposition~\ref{P:R-main}
and one can prove 
using $\sigma$-distributivity that $a \vee b  =\bw_n a_n \vee b_n$.
Hence $a\vee b \in \Pi L$.

To prove that~$L$ is a sublattice of~$\Pi L$,
we first note that~$L$ is a subset of~$\Pi L$;
indeed, if $a\in L$, then $a=\bw_n a$
and $a \geq a \geq \dotsb$ is obviously $\varphi$-convergent,
so we have $a \in \Pi L$.
Now,
since both $L$ and~$\Pi L$ are sublattices of~$V$,
and $L$ is a subset of~$\Pi L$,
we know that $L$ must be a sublattice of~$\Pi L$.
\end{proof}
\begin{rem}
In the proof of Lemma~\ref{L:PiL-lattice},
we have used the fact that~$V$ is $\sigma$-distrubutive
and the fact that~$E$ has the $R$-property
(via Proposition~\ref{P:R-main}).
\end{rem}

\begin{dfn}
\label{D:Pi-extendible}
We say~$\varphi$ is \keyword{$\Pi$-extendible}
if there is a valuation $\psi \colon \Pi L \ra E$ with
\begin{equation*}
\psi ( \bw_n a_n )
\ =\ 
\bw_n \varphi(a_n) 
\qquad
\text{ for all }
\qquad
\bw_n a_n \in \Pi L.
\end{equation*}
Clearly,
there can be at most one such map~$\psi$;
if it exists, we denote it by 
\begin{equation*}
\Pi \varphi\colon \Pi L \ra E.
\end{equation*}
\end{dfn}
%
%                  PI EXTENDIBLE IMPLIES PI COMPLETE
%
\begin{lem}
If $\varphi$ is $\Pi$-extendible,
then $\vs{V}{\Pi L}{\Pi\varphi}{E}$ is $\Pi$-complete.
\end{lem}
\begin{proof}
Let $a^1 \geq a^2 \geq \dotsb $ from $\Pi L$
be given and suppose  $\bw_n \Pi \varphi (a^n)$ exists;
we need to prove that $\bw_n a^n \in \Pi L$
and $\Pi\varphi(\bw_n a_n) = \bw_n \Pi \varphi(a_n )$.
To begin, write
$a^n = \bw_n a^n_m$
for each~$n$,
where $a^n_1 \geq a^n_2 \geq \dotsb$
is $\varphi$-convergent, and define
\begin{equation*}
b_i \ \eqdf\ \bw\{\,a^n_m\colon n,m\leq i \,\}.
\end{equation*}
Then $b_1 \geq b_2 \geq \dotsb$
and $\bw_n b_n = \bw_n a^n$.
Recall that  $\bw_n \Pi\varphi(a^n)$
exists.
We claim that $\bw_n \Pi\varphi(a^n)$
is the infimum of $\varphi b_1 \geq \varphi b_2 \geq \dotsb$.
If we can prove this, we are done.
Indeed,
then $b_1 \geq b_2 \geq\dotsb$ is $\varphi$-convergent,
so $\bw_n a^n = \bw_n b_n \in \Pi L$,
and
\begin{alignat*}{3}
\Pi\varphi( \bw_n a^n ) \ &=\  \Pi\varphi( \bw_n b_n )
 \qquad&& \text{since $\bw_n a^n = \bw_n b_n$}, \\
&=\ \bw_n \varphi (b_n)  
  && \text{since $\varphi$ is $\Pi$-extendible,}\\
&=\ \bw_n \Pi\varphi(a^n) 
  && \text{by the claim.}
\end{alignat*}

For each~$i$,
we have $b_i \geq \bw_{n\leq i} a^n = a^i$,
so $\varphi(b_i) = \Pi\varphi(b_i) \geq \Pi\varphi(a^i)$.
So we see that
$\bw_n \Pi\varphi(a^n)$ is a lower bound of
$\varphi(b_1)\geq \varphi(b_2) \geq \dotsb$.

On the other hand:
Let $\ell$ be a lower bound of $\varphi b_1 \geq \varphi b_2 \geq \dotsb$;
we need to prove that $\ell \leq \bw_n \Pi\varphi(a^n)$.
For all~$n$ and~$m$,
we have $a_m^n \geq b_{n\vee m}$
and so $\varphi(a_m^n) \geq \varphi(b_{n\vee m}) \geq \ell$.
Hence $\Pi\varphi(a^n) = \bw_m \varphi(a_m^n) \geq \ell$
for all~$n$.
So $\bw_n \Pi\varphi(a^n) \geq \ell$.

So $\bw_n \Pi\varphi(a^n)$ is the infimum of 
$\varphi b_1 \geq \varphi b_2 \geq \dotsb$,
and we are done.
\end{proof}
%
%                  MINIMALITY OF PI L
%
\begin{lem}
Let $C$ be a sublattice of~$V$.
Let $\psi\colon C\ra E$ be a valuation.
Assume
\begin{equation*}
L\subseteq C,\qquad
\psi| L = \varphi, \qquad\text{and}\qquad
\vs{V}{C}\psi{E}\ \text{ is $\Pi$-complete.}
\end{equation*}
Then $\varphi$ is $\Pi$-extendible and we have 
$\Pi L \subseteq C$
and $\psi\,|\,\Pi L = \Pi\varphi$.
\end{lem}
\label{L:PiL-minimal}
\begin{proof}
Let $\varphi$-convergent $a_1 \geq a_2 \geq \dotsb$
be given.
We prove that
\begin{equation}
\label{eq:L:PiL-minimal}
\bw_n a_n \in C\qquad\text{and}\qquad \psi (\bw_n a_n) = \bw_n \varphi(a_n).
\end{equation}
We know that $\bw_n \varphi (a_n)$ exists,
and that $\varphi(a_n)= \psi(a_n)$.
So $\bw_n \psi(a_n)$ exists too.
Hence $a_1 \geq a_2 \geq \dotsb$ is $\psi$-convergent.
Because $\vs{V}{C}\psi{E}$ is $\Pi$-complete
this implies that $\bw_n a_n \in C$ and 
$\psi (\bw_n a_n) = \bw_n \psi(a_n)$
(see Definition~\ref{D:system-complete2}\ref{D:system-complete2-pi}).
Hence we have proven Equation~\eqref{eq:L:PiL-minimal}
(note that $\bw_n\psi(a_n) = \bw_n\varphi(a_n)$).

Equation~\eqref{eq:L:PiL-minimal} implies that $\Pi L \subseteq C$.
So in order to prove that $\varphi$
is $\Pi$-extendible,
let us consider the valuation $\mu \eqdf \varphi \,|\,\Pi L$.
We must prove that
$\mu(\bw_n a_n) = \bw_n \varphi(a_n)$
for every $\varphi$-convergent $a_1 \geq a_2 \geq \dotsb$
(see Definition~\ref{D:Pi-extendible}),
but this follows immediately from Equation~\eqref{eq:L:PiL-minimal}.
Hence $\varphi$ is $\Pi$-extendible.

Finally,
since we know that~$\varphi$ is $\Pi$-extendible,
we can talk about~$\Pi\varphi$,
and write the second part of
Equation~\eqref{eq:L:PiL-minimal}
as $\psi(\bw_n a_n) = \Pi \varphi(\bw_n a_n)$.
So $\psi \,|\, \Pi L = \Pi \varphi$.
\end{proof}
%
%                  PI EXTENDIBLE IFF PI-CONTINUOUS
%
\begin{lem}
$\varphi$ is $\Pi$-extendible
if and only if  $\varphi$
has the following property.
\begin{equation}
\label{eq:Pi-cont}
\left[ \quad
\begin{minipage}{.7\columnwidth}
For every $b\in L$ and $\varphi$-convergent 
 $a_1 \geq a_2 \geq \dotsb$,
we have
\begin{equation*}
\bw_n a_n \leq b
\quad\implies\quad
\bw_n \varphi (a_n) \leq \varphi(b).
\end{equation*}
\end{minipage}
\right.
\end{equation}
\end{lem}
\begin{proof}
$\implies$.\ 
Suppose $\varphi$ is $\Pi$-extendible.
Then $\varphi$ has Property~\eqref{eq:Pi-cont},
because if $b\in L$ and $\varphi$-convergent $a_1 \geq a_2 \geq \dotsb$
with $\bw_n a_n \leq b$ are given,
then we have
\begin{equation*}
\bw_n \varphi(a_n) 
\ =\ 
\Pi\varphi(\bw_n a_n)
\ \leq\ 
\varphi(b).
\end{equation*}

\noindent$\Longleftarrow$.\ 
Suppose~$\varphi$ satisfies Property~\eqref{eq:Pi-cont};
we prove $\varphi$ is $\Pi$-extendible.
We claim that
\begin{equation}
\label{eq:Piphi-order-preserving}
\bw_n a_n \ \leq\ \bw_n b_n 
\quad\implies\quad
\bw_n \varphi(a_n) \ \leq\ \bw_n \varphi(b_n),
\end{equation}
where $a_1 \geq a_2 \geq \dotsb$ and $b_1 \geq b_2 \geq \dotsb$
are $\varphi$-convergent.

Indeed,
if $\bw_n a_n \leq \bw_n b_n$,
then $\bw_n a_n \leq b_m$ for all~$m$,
so $\bw_n \varphi(a_n) \leq \varphi(b_m)$ for all~$m$
(by Property~\ref{eq:Pi-cont}),
and hence $\bw_n \varphi(a_n) \leq \bw_n \varphi(b_m)$.

Equation~\eqref{eq:Piphi-order-preserving} implies that
 $\bw_n a_n = \bw_n b_n \implies \bw_n\varphi(a_n) = \bw_n \varphi(b_n)$,
so there is a unique map $\psi\colon \Pi L \ra E$ such that
\begin{equation*}
\psi(\bw_n a_n) \ =\ \bw_n \varphi(a_n)
\qquad
\text{ for all $\varphi$-convergent }a_1 \geq a_2 \geq \dotsb.
\end{equation*}
In fact, 
Equation~\eqref{eq:Pi-cont}
also implies that~$\psi$ is order preserving.

To prove that~$\varphi$ is $\Pi$-extendible
(see Definition~\ref{D:Pi-extendible}),
it suffices to show that~$\psi$ is a valuation.
For this,
it remains to be shown that~$\psi$ is modular
(see Definition~\ref{D:val}).

Let $a,b\in \Pi L$ be given; 
we need to prove $\psi(a\wedge b) + \psi(a\vee b)= \psi(a)+\psi(b)$.
Write  $a = \bw_n a_n$ and $b = \bw_n b_n$
where 
 $a_1 \geq a_2 \geq \dotsb$ and $b_1 \geq b_2 \geq \dotsb$
are $\varphi$-convergent sequences.
We have
\begin{alignat*}{3}
\varphi(a\wedge b) + \varphi(a \vee b) 
\ &=\ \psi(\bw_n a_n \wedge \bw_n b_n) + \psi(\bw_n a_n \vee \bw_n b_n) \\
\ &=\ \psi(\bw_n a_n \wedge b_n) + \psi(\bw a_n \vee b_n) \\
  &=\ \bw_n \varphi(a_n \wedge b_n) + \bw_n \varphi(\bw a_n \vee b_n) \\
  &=\ \bw_n \varphi(a_n \wedge b_n) + \varphi(a_n \vee b_n) \\
  &=\ \bw_n \varphi(a_n) + \varphi(b_n) \\
  &=\ \psi(\bw_n a_n) + \psi(\bw_n b_n).
\end{alignat*}
Hence $\psi$ is modular, which completes the proof
that $\varphi$ is $\Pi$-extendible.
\end{proof}
\end{document}
