\documentclass[main.tex]{subfiles}
\begin{document}
\section{Valuations}
\ref{S:vals}
\subsection{Introduction}
\noindent
%
%          DEFINITION OF MODULAR MAPS
%
\begin{dfn}
\label{D:val}
Let $L$ be a lattice, $E$ an ordered Abelian group,
and $\varphi\colon L \ra E$.
\begin{enumerate}
\item
\label{D:val-mod}
$\varphi$ is \keyword{modular} provided that
\begin{equation*}
\varphi(a\wedge b) + \varphi(a \vee b)
\ =\ 
\varphi(a) + \varphi(b)
\qquad(a,b\in L).
\end{equation*}

\item
\label{D:val-val}
$\varphi$ is a \keyword{valuation}
provided that $\varphi$ is modular and order preserving.
\end{enumerate}
\end{dfn}

\begin{ex}
Let $\mathcal{F}$ be the set of finite subsets of~$\N$,
and for each $A\in \mathcal{F}$,
let $\#(A)$ be the number of elements of~$A$.
Then have 
\begin{equation*}
\#(A\cap B) + \#(A\cup B) \,=\, \#(A) + \#(B)
\qquad(A,B\in\mathcal{F}),
\end{equation*}
so obviously the map $\mathcal{F} \ra \N$
given by by $A\mapsto \#(A)$ is a valuation.
\end{ex}

%
%                  LEBESGUE MEASURE IS A VALUATION
%
\begin{ex}
\label{E:lmeas-val}
Let $\LA$ be the set of Lebesgue measurable
subsets of~$\R$ with finite measure.
Then~$\LA$ is a lattice of subsets of~$\R$.
Given~$A\in\LA$,
let $\Lmu$ denote the measure of~$A$.
Then $A\subseteq B \implies \Lmu(A)\leq \Lmu (B)$
for all $A,B\in \mathcal{A}$,
and 
\begin{equation*}
\Lmu(A\cap B) + \Lmu(A\cup B) \,=\, \Lmu(A) + \Lmu(B)
\qquad(A,B\in\mathcal{A}).
\end{equation*}
So~$\Lmu$ is a valuation.
\end{ex}

%
%                  LEBESGUE INTEGRAL IS A VALUATION
%
\begin{ex}
\label{E:int-val}
Let~$\LF$ be the set of Lebesgue integrable functions on~$\R$.
It is a lattice ordered Abelian group.
The assignment $f\mapsto \int f$ 
yields an order preserving group homomorphism
$\Lphi\colon \LF\ra \R$.
To see that $\Lphi$ is modular (and a valuation),
note
\begin{equation*}
\min\{x,y\}+\max\{x,y\} \,=\, x+y\qquad(x,y\in \R).
\end{equation*}
So given $f,g\in \LF$,
we have $f\wedge g + f \vee g = f+ g$,
and hence
\begin{equation*}
\Lphi(f\wedge g) + \Lphi(f\vee g) 
\,=\,\Lphi(f\wedge g + f\vee g)
\,=\, \Lphi(f+g)
\,=\, \Lphi (f)+\Lphi(g).
\end{equation*}
\end{ex}

%
%                  ANY MAP ON A CHAIN IS MODULAR
%
\begin{ex}
Let $C$ be a chain,
i.e. a totally ordered set.
Then $C$ is a lattice with
\begin{equation*}
a\wedge b = \min\{a,b\},
 \qquad 
a\vee b = \max\{a,b\}.
\end{equation*}
One quickly sees that
\emph{any map $f\colon C\rightarrow E$
to an ordered Abelian group is modular.}
\end{ex}

%
%                  RING OF SUBSETS
%
\begin{ex}
\label{E:ring-val}
Let~$X$ be a set and let~$\mathcal{A}$ be a ring of subsets of~$X$.
That is,
\begin{equation*}
A\cap B,\qquad\qquad A\cup B,\qquad\qquad A\backslash B
\end{equation*}
are in~$\mathcal{A}$ for all $A,B\in\mathcal{A}$.
Then clearly~$\mathcal{A}$ is a lattice.

Let $E$ be an ordered Abelian group
and let~$\mu\colon \mathcal{A}\rightarrow E$ be a map.
Recall that~$\mu$ is \keyword{additive} if $\mu(A) + \mu(B) = \mu(A\cup B)$
for all $A,B\in\mathcal{A}$ with $A\cap B=\varnothing$.

\emph{If~$\mu$ is additive,
then $\mu$ is modular.}
Indeed,
let $A,B\in \mathcal{A}$ be given. We need to prove that
$\mu(A) + \mu(B) =\mu(A\cap B) + \mu(A\cup B)$
assuming~$\mu$ is additive.
We have
\begin{alignat*}{6}
\mu(A) + \mu(B) \,
  & =\, \mu(A\cap B \ \cup\ A\backslash B) + \mu(B) \\ 
  & =\, \mu(A\cap B) + \mu(A\backslash B)  + \mu(B)\qquad
    && \text{since } A\cap B \ \cap\ A\backslash B = \varnothing \\ 
  & =\, \mu(A\cap B) + \mu(A\backslash B \ \cup\ B ) 
    && \text{since } A\backslash B\ \cap\ B = \varnothing \\
  & =\, \mu(A\cap B) + \mu(A\cup B).
\end{alignat*}

Recall that~$\mu$ is \keyword{positive} whenever
$\mu(A)\in E^+$ for all~$A\in\mathcal{A}$.

\emph{If~$\mu$ is additive and positive,
then~$\mu$ is a valuation.}
Since~$\mu$ is additive,
$\mu$ is modular.
It remains to be shown that~$\mu$ is order preserving
(see Definition~\ref{D:val}).
Let $A\subseteq B$ from~$\mathcal{A}$ be given
in order to prove $\mu(A)\leq \mu(B)$.
We have
\begin{equation*}
(B\backslash A)\,\cup\, A\,=\,B,\qquad\qquad 
(B\backslash A)\,\cap\, A\,=\,\varnothing.
\end{equation*}
So by additivity, 
$\mu(B)=\mu(B\backslash A)+\mu(A)$.
Then $\mu(B)\geq \mu(A)$, since $\mu(B\backslash A)\geq 0$.
\end{ex}

%
%                  RING OF SIMPLE LEBESGUE SUBSETS
%
\begin{ex}
\label{E:smeas-val}
We describe a ring of subsets of~$\R$
and a positive and additive 
map~$\Smu\colon \SA\ra \R$ that 
will eventually
lead to the Lebesgue measure.

Let $\mathcal{S}$ be the set of all finite intervals of~$\R$,
\begin{equation*}
(a,b)\qquad [a,b)\qquad (a,b]\qquad [a,b]
\qquad\qquad\text{where }a<b.
\end{equation*}
Let~$\SA$ be the ring generated by~$\mathcal{S}$.
Every element~$A$ of~$\SA$ is of the form
\begin{equation*}
I_1 \,\cup \,\dotsb \,\cup\, I_N
\end{equation*}
where $I_1,\dotsc,I_N\in \SA$
are disjoint.
Let $\Smu(A)$ be given by
\begin{equation*}
\mu_{\mathrm L}(A) \ \eqdf\  |I_1| + \dotsb + |I_N|.
\end{equation*}
One can verify that the number $\Smu(A)$
only depends on~$A$ and not on the choice of~$I_1,\dotsc,I_N$.
Hence we obtain a map~$\Smu\colon \SA \ra \R$.
Almost by definition $\Smu$ is additive and positive.
Hence $\Smu\colon\SA\ra \R$ is a valuation 
(see Example~\ref{E:ring-val}).
\end{ex}


In Example~\ref{E:int-val},
we saw a group homomorphism that is modular.
In fact any group homomorphism
on a lattice ordered Abelian group is modular
(see Corollary~\ref{C:hom-val}\ref{C:hom-val-group}).
To prove this,
we first derive some general properties
of ordered Abelian groups.
%
%                  PRESERVATION /\ BY +
%
\begin{lem}
\label{L:oag-plus-preserves}
Let $E$ be an ordered Abelian group.
Let $A\subseteq E$ and $x\in E$ be given.
\begin{enumerate}
\item \label{L:oag-plus-preserves-meet}
If $A$ has an infimum,
then so has $x+A \eqdf \{ x+a\colon a\in A\}$,
and 
\begin{equation*}
\bw \,\,x+A \ =\  x+\bw A.
\end{equation*}
\item \label{L:oag-plus-preserves-join}
If $A$ has a supremum,
then so has $x+A$,
and 
\begin{equation*}
\bv \,\,x+A \ =\  x+\bv A.
\end{equation*}
\end{enumerate}
\end{lem}
\begin{proof}
It suffices to prove that the map $E\ra E$
given by $u\mapsto x + u$ is an order isomorphism.
Of course,
it is: $u\leq v\iff x+u\leq x+v$ for all $u,v\in E$.
\end{proof}
%
%                  PRESERVATION OF /\ BY -
%
\begin{lem}
\label{L:oag-minus-preserves}
Let $E$ be an ordered Abelian group,
and $A\subseteq E$.
\begin{enumerate}
\item
If $A$ has an infimum,
then $-A\eqdf \{-a\colon a\in A\}$
has a supremum,
and 
\begin{equation*}
-\bw A \,=\, \bv -\hspace{-3pt}A.
\end{equation*}
\item
If $A$ has an supremum,
then $-A$
has an infimum, and
\begin{equation*}
-\bv A \,=\, \bw -\hspace{-3pt}A.
\end{equation*}
\end{enumerate}
\end{lem}
\begin{proof}
The map $E\rightarrow E$ given by
$u\mapsto u$ is an order reversing isomorphism.
\end{proof}
%
%                  MODULARITY EQUATION FOR LATTICE ORDERED ABELIAN GROUPS
%
\begin{lem}
\label{L:1-valuation}
Let $R$ be a lattice ordered Abelian group.
Then we have 
\begin{equation*}
a\wedge b  + a\vee b \,=\, a+b \qquad(a,b\in R).
\end{equation*}
\end{lem}
\begin{proof}
$a\vee b - a - b
= (a - a - b) \vee (b - a - b)
= (-b)\vee(-a) = -(a\wedge b)$.
\end{proof}

\begin{ex}
\label{E:1-valuation}
Let~$R$ be a lattice ordered Abelian group.
Then the identity map $1_R$ is a valuation.
Indeed, $1_R$ is modular by Lemma~\ref{L:1-valuation},
and clearly order preserving.
\end{ex}

\begin{lem}
\label{L:mod-comp}
Suppose we have the following situation
\begin{equation*}
\xymatrix{
L' \ar[r]^f&
L \ar[r]^\varphi&
E \ar[r]^g&
E',
}
\end{equation*}
where $L$, $L'$ are lattices,
$E$, $E'$ are ordered Abelian groups,
$f$ is a lattice homomorphism,
$\varphi$ a map,
and $g$ is a group homomorphism.
Then
\begin{enumerate}
\item
\label{L:mod-comp-mod}
$g\circ \varphi \circ f$ is modular
provided that $\varphi$ is modular;
\item
\label{L:mod-comp-val}
$g\circ \varphi \circ f$ is a valuation
provided that $\varphi$ is a valuation
and~$g$ is positive.
\end{enumerate}
\end{lem}
\begin{proof}
\noindent
\ref{L:mod-comp-mod}
\  Suppose~$\varphi$ is modular.
Let $a,b\in L'$ be given.
Writing $\varphi'= g\circ\varphi \circ f$,
we need to prove that
$\varphi'(a\wedge b)+\varphi'(a\vee b)=\varphi'(a)+\varphi'(b)$.
We have
\begin{alignat*}{3}
\varphi'(a) + \varphi'(b)
\ &=\ g(\varphi(f(a))) \,+\, g(\varphi(f(b))) \\
  &=\ g(\ \varphi( f(a)) + \varphi( f(b))\ ) \\
  &=\ g(\ \varphi(f(a)\wedge f(b)) + \varphi(f(a)\vee f(b))\ ) \\
  &=\ g(\  \varphi(f(a\wedge b)) \,+\, \varphi(f(a\vee b))\ ) \\
  &=\ g(\varphi(f(a\wedge b))) \,+\, g(\varphi(f(a\vee b))) \\ 
  &=\ \varphi'(a\wedge b) + \varphi'(a \vee b)
\end{alignat*}
\ref{L:mod-comp-val}
\  Suppose~$\varphi$ is a valuation
and~$g$ is positive.
We need to prove that~$\varphi'\eqdf g\circ \varphi\circ f$
is a valuation.
By part~\ref{L:mod-comp-mod}
we know that~$\varphi'$ is modular.
It remains to be shown that~$\varphi'$ is order preserving.
This is easy: $g$, $\varphi$, and~$f$ are all order preserving.
So $\varphi'=g\circ\varphi\circ f$ must be order preserving too.
\end{proof}

\begin{cor}
\label{C:hom-val}
Let~$R$ be a lattice ordered Abelian group.
\begin{enumerate}
\item
\label{C:hom-val-lat}
Let~$L$ be a lattice.
Any lattice homomorphism $f\colon L\ra R$ 
is a valuation;

\item
\label{C:hom-val-group}
Let $E$ be an ordered Abelian group
and $g\colon R\ra E$ a group homomorphism.
Then $g$ is modular.
Moreover,
if~$g$ is positive,
then~$g$ is a valuation.
\end{enumerate}
\end{cor}
\begin{proof}
Apply Lemma~\ref{L:mod-comp} to the following situations.
\begin{equation*}
\xymatrix{
L\ar[r]^f &
R\ar[r]^{1_R} &
R\ar[r]^{1_R} &
R &&
R\ar[r]^{1_R} &
R\ar[r]^{1_R} &
R\ar[r]^{g} &
E}
\end{equation*}
(Recall that $1_R$ is a valuation,
see Example~\ref{E:1-valuation}.)
\end{proof}

%
%                  RIESZ SPACE OF FUNCTIONS
%
\begin{ex}
\label{E:val-riesz-space-of-functions}
Let $X$ be a set.
We say $F\subseteq \R^X$
is  \emph{Riesz space of functions} if
\begin{equation*}
f\vee g,\quad\qquad 
f\wedge g,\quad\qquad
f+g,\quad\qquad 
\lambda \cdot f
\end{equation*}
are all in~$F$
where $f,g\in F$ and $\lambda \in \R$.
Then~$F$ is a lattice ordered Abelian group.

Let~$E$ be an ordered Abelian group
and let $\varphi\colon F\ra E$ be a positive linear map.
We see that~$\varphi$ is a valuation
 by Corollary~\ref{C:hom-val}\ref{C:hom-val-group}.
\end{ex}

%
%                  RIESZ SPACE OF STEP FUNCTIONS
%
\begin{ex}
\label{E:sint-val}
We  describe a Riesz space
of functions~$F_{\mathrm{L}}$ on~$\R$
and a positive linear map~$\varphi_{\mathrm{L}}\colon F_{\mathrm{L}}\ra \R$
that will eventually lead to the Lebesgue integral.

A \emph{step function} is a function~$f\colon \R\ra\R$
for which there are $s_1 < s_2 <\dotsb <s_N$ in~$\R$
such that $f$ is constant on each~$(s_n,s_{n+1})$
and $f$ is zero outside $[s_1,s_N]$.

Let $F_\mathrm{L}$ be the set of step functions.
One can easily see that~$F_\mathrm{L}$ is a Riesz space of functions.
Let $f\in F_\mathrm{L}$.
Let $s_1 < s_2 <\dotsb <s_N$
be such that $f$ is constant, say $c_n\in \R$,
 on~$(s_n,s_{n+1})$
and $f$ is zero outside $[s_1,s_N]$.
One can prove that 
\begin{equation}
\label{exp:step}
\sum_{n=1}^{N-1} \, c_n\cdot(s_{n+1} - s_n)
\end{equation}
does not depend on the choice
of~$s_1 < s_2 <\dotsb <s_N$.
So Expression~\eqref{exp:step}
given a map $\varphi_\mathrm{L}\colon F_\mathrm{L} \ra \R$.
This map is easily seen to be linear.

Consequently, $\varphi_\mathrm{L}\colon F_\mathrm{L}\ra \R$
is a valuation (see Example~\ref{E:val-riesz-space-of-functions}).
\end{ex}


\begin{ex}
Up to this point
we have only seen valuations on distributive lattices.
We will now give an example
of a valuation on a non-distributive lattice.

Let $W$ be a vector space.
Let $L$ be the set of finite-dimensional linear subspaces
of~$W$ ordered by inclusion.
  Then~$L$ is a lattice, and 
for all~$A,B\in L$,
\begin{equation*}
A\wedge B \ =\ A\cap B,
\qquad A\vee B \ =\ \left<A\cup B\right>
\end{equation*}
where $\left< S \right>$ denotes the smallest
linear subspace containing $S$.
We have
\begin{equation*}
\dim (A\wedge B) \,+\, \dim(A\vee B)
\ =\ 
\dim A \,+\, \dim B 
\qquad\qquad(A,B\in L).
\end{equation*}
To see this,
apply the dimension theorem
to the map~$f\colon A\times B\ra A\vee B$ given by  $(a,b)\mapsto a+b$.
Hence the assignment $A \mapsto \dim A$
gives a valuation $\dim\colon L\ra \N$.

The lattice~$L$ might be distributive.
For instance, if~$W=\{ 0 \}$.
This occurs only seldomly:
if $W$ contains two linearly independent vectors,
then~$L$ is non-distributive.

Indeed,
let $v_1,v_2\in W$ be linearly independent vectors
and consider  $w\eqdf v_1 + v_2$.
One can verify that $v_i, w$ are linearly independent too.
So $\left< v_i \right> \cap \left< w \right> = \{0\}$.
Hence
\begin{equation*}
\left< w \right> \wedge(\left< v_1 \right>\vee\left< v_2 \right>)
\ =\ 
\left< v_1, v_2 \right>
\ \neq\ 
\{0\}
\ =\ 
(\left<w\right> \wedge \left<v_1\right>)
\,\vee\, (\left<w\right> \wedge \left<v_2\right>).
\end{equation*}
\end{ex}

We end this subsection
with some tame examples of valuations we 
need lateron.
\begin{ex}
\label{E:val-product}
Let $I=\{ 1,2\}$.
For each $i\in I$, 
let $L_i$ be a lattice,
$E_i$ an ordered Abelian group,
and $\varphi_i \colon L_i \ra E_i$
a valuation.
Then 
the map 
\begin{equation*}
\varphi_1 \times \varphi_2 \colon \,
L_1 \times L_2 \,\longrightarrow\, E_1 \times E_2
\end{equation*}
given by $(\varphi_1 \times\varphi_2)(a_1,a_2) = (\varphi_1(a),\varphi_2(b))$
for all~$a_i\in L_i$, is a valuation.

We call the valuation $\varphi_1 \times \varphi_2$
the \emph{product} of $\varphi_1$ and $\varphi_2$.
Of course,
one can similarly define a product of an $I$-indexed family
of valuations for any set~$I$.
\end{ex}

\begin{ex}
\label{E-val-opposite}
Let $L$ be a lattice.
If we reverse the order on~$L$,
i.e., consider the partial order on~$L$ 
given by $\smash{a \leq_{L^\mathrm{op}} b}
\iff a\geq_L b$,
then if a subset~$S\subseteq L$
has a supremum, $\bigvee S$,
then $\bigvee S$ is the 
\emph{infimum} of~$S$
with respect to~$\leq^\mathrm{op}$.
So we see that $\leq^\mathrm{op}$
gives us a lattice, $L^\mathrm{op}$.
(The \emph{opposite} lattice.)

Let~$E$ be an ordered Abelian group.
If we reverse the order on~$E$,
we obtain an ordered Abelian group~$E^\mathrm{op}$
with the same group structure,
but whose positive elements, $\smash{(E^\mathrm{op})^+}$,
are precisely the negative elements of~$E$.

Let~$\varphi\colon L\ra E$ be a modular map
(see Definition~\ref{D:val}).
Then one quickly sees that $\varphi$ is also modular considered as a map
$L^\mathrm{op} \ra E$.
However,
$\varphi\colon L^\mathrm{op}\ra E$
is a valuation (that is, also order preserving)
if and only if $\varphi\colon L\ra E$
is order \emph{reversing},
i.e., $a\leq b\implies \varphi(a)\geq \varphi(b)$ for
all $a,b\in L$.

Of course,
if $\varphi\colon L\ra E$ is a valuation,
then $\varphi$ is a valuation $L^\mathrm{op}\ra E^\mathrm{op}$.
\end{ex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%j%
%
%
%                  ELEMENTARY PROPERTIES
%                     of valuations
%
%
\subsection{Distance induced by a valuation}
Fix a lattice~$L$,
an ordered Abelian group~$E$
and a valuation~$\varphi\colon L\ra E$.
In this subsection,
we derive some elementary properties of~$\varphi$.
Most of these are concerned with the following notion
of distance.
\begin{dfn}
\label{D:d}
\quad
$\ld\varphi(a,b)\eqdf \varphi(a\vee b) - \varphi(a \wedge b)$
\quad
for all $a,b\in L$.
\end{dfn}
\begin{lem}
\label{L:d-metric}
We have:
\begin{enumerate}
\item\label{d-metric_self} 
$\ld\varphi(a,a)=0$ for all $a\in L$.
\item\label{d-metric_sym}
$\ld\varphi(a,b)=\ld\varphi(b,a)$ for all $a,b\in L$.
\item\label{d-metric_triangle}
$\ld\varphi(a,b)\leq\ld\varphi(a,z)+\varphi(z,b)$
for all $a,b,z\in L$.
\end{enumerate}
\end{lem}
\begin{proof}
Only point~\ref{d-metric_triangle} requires some work.
Let $a,b,z\in L$ be given.
We want to show that $\ld\varphi(a,b) \leq \ld\varphi(a,z)+\ld\varphi(z,b)$.
In other words:
\begin{equation}
\label{eq:d-metric}
\varphi(a\vee b) + \varphi(a\wedge z) + \varphi (z\wedge b)
\ \leq\ 
\varphi (a\vee z) + \varphi(z\vee b) + \varphi (a\wedge b)\text{.}
\end{equation}
By modularity,
the left-hand side equals
\begin{equation*}
\varphi(a\vee b) 
 + \varphi(\,(a\wedge z)\vee(b\wedge z)\,)
 + \varphi(a\wedge b\wedge z).
\end{equation*}
On the other hand,
using modularity
the right-hand side of Inequality~\eqref{eq:d-metric} becomes
\begin{equation*}
\varphi(a\vee b\vee z)
 + \varphi(\,(a\vee z)\wedge(b\vee z)\,)
 + \varphi(a\wedge b).
\end{equation*}
Note that $a\vee b \leq a\vee b\vee z$,
and $(a\wedge z)\vee (b\wedge z) \leq z \leq (a\vee z)\wedge (b\vee z)$,
and $a\wedge b\wedge z \leq a\wedge b$,
so that the monotonicity of~$\varphi$ yields Inequality~\eqref{eq:d-metric}.
\end{proof}
%
%                  CURRY-WC-UNIF
%
\begin{lem}
\label{L:curry-wc-unif}
\quad
$\ld\varphi(a\wedge z,\,b\wedge z)+
 \ld\varphi(a\vee z,b\vee z)\,\leq\,\ld\varphi(a,b)$
\quad for all $a,b,z\in L$.
\end{lem}
\begin{proof}
By expanding Definition~\ref{D:d},
we see that 
we need to prove that
\begin{equation}
\label{eq:curry-wc-unif}
\begin{split}
\varphi(a\vee b\vee z) \,+\,
\varphi(\,(a\wedge z)\vee(b\wedge z)\,) & \,+\,
\varphi(a\wedge b) \\
\ \leq\ 
\varphi(a \vee b)  \,+\, &
\varphi(\,(a\vee z)\wedge(b\vee z)\,) \,+\,
\varphi(a\wedge b \wedge z)
\end{split}
\end{equation}
By modularity,
the left-hand side equals
\begin{equation*}
\varphi(a\vee b \vee z) \,+\,
\varphi(\, (a\wedge z) \vee (b\wedge z) \vee (a\wedge b)\,) \,+\,
\varphi(\,a\wedge b\wedge ( (a \wedge z) \vee (b\wedge z) )\,).
\end{equation*}
To simplify the above expression,
we prove that
$a\wedge b\wedge ( (a \wedge z) \vee (b\wedge z)=a\wedge b\wedge z$.
To this end, note that
$a\wedge z \,\leq\, (a\wedge z)\vee (b\wedge z) \leq z$
so that 
\begin{equation*}
a\wedge b\wedge z
\, =\, a\wedge b \wedge (a\wedge z)
\,\leq\, a\wedge b \wedge ((a\wedge z)\vee (b\wedge z))
\,\leq\, a\wedge b \wedge z.
\end{equation*}
Hence the left-hand side of Inequality~\eqref{eq:curry-wc-unif}
equals
\begin{equation*}
\varphi(a\vee b \vee z) \,+\,
\varphi(\, (a\wedge z) \vee (b\wedge z) \vee (a\wedge b)\,) \,+\,
\varphi(\,a\wedge b\wedge z\,).
\end{equation*}
In a similar fashion,
one can show that the right-hand side of Inequality~\eqref{eq:curry-wc-unif}
equals
\begin{equation*}
\varphi(a\vee b \vee z) \,+\,
\varphi(\, (a\vee z) \wedge (b\vee z) \wedge (a\vee b)\,) \,+\,
\varphi(\,a\wedge b\wedge z\,).
\end{equation*}
So in order to prove Inequality~\eqref{eq:curry-wc-unif},
we must show that
\begin{equation*}
\varphi(\, (a\wedge z) \vee (b\wedge z) \vee (a\wedge b)\,) 
\ \leq\ 
\varphi(\, (a\vee z) \wedge (b\vee z) \wedge (a\vee b)\,).
\end{equation*}
Since $\varphi$ is order preserving,
it suffices to show that 
\begin{equation*}
 (a\wedge z) \vee (b\wedge z) \vee (a\wedge b)
\ \leq\ 
  (a\vee z) \wedge (b\vee z) \wedge (a\vee b).
\end{equation*}
Writing $c_1 = a$, $c_2 = b$, and $c_3 = z$,
we must prove that 
\begin{equation*}
\bv_{i\neq j}\, c_i \wedge c_j \ \leq\ \bw_{k\neq \ell}\, c_k \vee c_\ell.
\end{equation*}
That is,
we must show that 
$c_i \wedge c_j \leq c_k \vee c_\ell$
for given $i\neq j$ and $k\neq \ell$.
Now, note
\begin{equation*}
\# (\{ i,j \} \cap \{ k,\ell\}) + \#\{i,j,k,\ell\}
\ = \ \# \{i,j\} + \# \{k,\ell \}
\ = \ 4.
\end{equation*}
Since  $\# \{ i,j,k,\ell \}\leq 3$,
we see that $\# \{ i,j \} \cap \{ k,\ell\} \geq 1$.
So pick $m\in  \{ i,j \} \cap \{ k,\ell\}$.
Then $c_i \wedge c_j \leq c_m \leq c_k \vee c_\ell$.
\end{proof}
%
%                  WC-UNIF
%
\begin{lem}
\label{L:wv-unif}
Let $a,b,w,z\in L$.  Then:
\begin{equation*}
\ld\varphi(a\wedge w,b\wedge z) + \ld\varphi(a \vee w,b\vee z)
\ \leq\ 
\ld\varphi(a,b) + \ld\varphi(w,z).
\end{equation*}
\end{lem}
\begin{proof}
By the triangle inequality (point~\ref{d-metric_triangle}
of Lemma~\ref{L:d-metric}),
we have
\begin{equation}
\label{eq:L:d-metric-1}
\begin{alignedat}{3}
\ld\varphi(a\wedge w,\,b\wedge z)\ &\leq\ 
\ld\varphi(a\wedge w,\,b\wedge w)\,+\,
\ld\varphi(b\wedge w,\,b\wedge z), \\
\ld\varphi(a\vee w,\,b\vee z)\ &\leq\ 
\ld\varphi(a\vee w,\,b\vee w)\,+\,
\ld\varphi(b\vee w,\,b\vee z).
\end{alignedat}
\end{equation}
On the other hand, Lemma~\ref{L:curry-wc-unif} gives us
\begin{equation}
\label{eq:L:d-metric-2}
\begin{alignedat}{3}
\ld\varphi(a\wedge w,b\wedge w) + \ld\varphi(a\vee w,b\vee w)
   \ &\leq\ \ld\varphi(a,b), \\
\ld\varphi(b\wedge w,b\wedge z) + \ld\varphi(b\vee w, b\vee z)
   \ &\leq\ \ld\varphi(w,z).
\end{alignedat}
\end{equation}
The sum of the right-hand sides of Equation~\eqref{eq:L:d-metric-1}
equals the sum of the left-hand sides of Equation~\eqref{eq:L:d-metric-2}.
Hence
$\ld\varphi(a\wedge w,b\wedge z) + \ld\varphi(a \vee w,b\vee z)
\leq 
\ld\varphi(a,b) + \ld\varphi(w,z)$.
\end{proof}
%
%                  LEMMA ON MODULARITY FOR MODULAR MAPS
%
\begin{lem}
\label{L:modular-map-modular}
For $\ell,u\in L$ with $\ell\leq u$, we have
\begin{equation}
\label{eq:modular-map}
\varphi(\,\ell \vee (a \wedge u)\,) 
\ =\ 
\varphi(\,(\ell\vee a)\wedge u\,)
\qquad (a\in L).
\end{equation}
\begin{proof}
The trick is to consider the expression 
$\varphi(\ell) + \varphi(a) + \varphi(u)$.
On the one hand,
\begin{align*}
\varphi(\ell) + \varphi(a) + \varphi(u)
\ &=\ \varphi(\ell\wedge a) + \varphi(\ell \vee a) + \varphi(u) \\
\ &=\ \varphi(\ell \wedge a)
      + \varphi(\,(\ell\vee a)\wedge u\,)
      + \varphi(a\vee u),
\end{align*}
where we have used modularity twice.
On the other hand,
\begin{align*}
\varphi(\ell) + \varphi(a) + \varphi(u)
\ &=\ \varphi(\ell) + \varphi(a\wedge u) + \varphi(a \vee u) \\
\ &=\ \varphi(\ell \wedge a)
      + \varphi(\,\ell\vee (a\wedge u)\,)
      + \varphi(a\vee u).
\end{align*}
The difference,
$\varphi(\,(\ell\vee a)\wedge u\,)
- \varphi(\,\ell\vee (a\wedge u)\,)$,
must be zero.
\end{proof}
\end{lem}



\section{Valuation systems}
\subsection{Simple valuation systems}
%
%                  SYSTEMS
%
\begin{dfn}
\label{D:simple-system}
We say $\vs{V}{L}{\varphi}{E}$
 is a \keyword{simple valuation system}
provided that
\begin{enumerate}
\item \label{D:simple-system-1}
$V$ is a lattice
such that $\bw_n c_n$ and $\bv_n c_n$ exists for all~$c_1,c_2,\dotsc\in V$;
\item \label{D:simple-system-2}
$L$ is a sublattice of~$V$;
\item \label{D:simple-system-3}
$E$ is an ordered Abelian group;
\item \label{D:simple-system-4}
$\varphi\colon L\ra E$ is a valuation.
\end{enumerate}
\end{dfn}

%
%                  RING AS SIMPLE VALUATION SYSTEM
%
\begin{ex}
\label{E:ring-system}
Let $E$ be an ordered Abelian group.
Let~$X$ be a set, 
$\mathcal{A}$ a ring of sets,
and $\mu\colon \mathcal{A}\ra E$
a positive and additive map.
(See Example~\ref{E:ring-val}.)

Then we have the following simple valuation system.
\begin{equation*}
\vs{\wp X}{\mathcal{A}}\mu{E}
\end{equation*}
Indeed, $\wp X$ is lattice with 
$\bw_n A_n = \bigcap_n A_n$
and $\bv_n A_n = \bigcup_n A_n$ for all $A_i \in \wp X$,
$\mathcal{A}$ is a sublattice of~$\wp X$
by definition
and we have already seen 
that $\mu\colon \mathcal{A}\ra E$ is a valuation
(in Example~\ref{E:ring-val}).

In particular,
we have the following valuation systems.
\begin{equation*}
\vsLA \qquad\qquad \vsSA.
\end{equation*}
See Example~\ref{E:lmeas-val}) and  Example~\ref{E:smeas-val}.
\end{ex}

%
%                  RIESZ SPACE OF FUNCTIONS AS SIMPLE VALUATION SYSTEM
%
\begin{ex}
\label{E:riesz-function-space-simple-system}
Let $E$ be an ordered Abelian group.
Let $F$ be a Riesz space of functions on a set~$X$,
and $\varphi\colon F\ra E$ be a positive and linear map
(see Example~\ref{E:val-riesz-space-of-functions}).

Then we have the following simple valuation system.
\begin{equation*}
\vs{[-\infty,\infty]^X}{F}\varphi{E}
\end{equation*}
Indeed, $[-\infty,\infty]$ is a complete lattice
and hence so is $[-\infty,\infty]^X$.
Further, $F$ is a sublattice of~$\R^X$
which is in turn a sublattice of $[-\infty,\infty]^X$,
and we already know that
$\varphi$ is a valuation (see Example~\ref{E:val-riesz-space-of-functions}).
\end{ex}

\begin{ex}
Let $I=\{1,2\}$.
For each~$i\in I$,
let $\vs{V_i}{L_i}{\varphi_i}{E_i}$
be a simple valuation system.
Then we have the following simple valuation system
(see Example~\ref{E:val-product}).
\begin{equation*}
\vs{V_1\times V_2}{L_1 \times L_2}{\varphi_1 \times \varphi_2}{E_1 \times E_2}.
\end{equation*}
We call this system
the \emph{product} of $\vs{V_1}{L_1}{\varphi_1}{E_1}$
and $\vs{V_2}{L_2}{\varphi_2}{E_2}$.

Of course,
one can define a product of simple valuation systems
for any set~$I$.
\end{ex}

%
%                  NOTATION CONCERNING SUPREMA AND INFIMA IN L
%
\begin{nt}
Let $\vs{V}{L}\varphi{E}$ be a simple valuation system.
Let $a_1, a_2, \dotsc$ be from~$L$.
Then $a_1, a_2,\dotsc$ has a supremum
in~$V$ and might have a supremum in~$L$.
We ignore the latter:
\emph{With $\bv_n a_n$
we always mean the supremum of~$a_1, a_2,\dotsc $ in~$V$}.
\end{nt}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%                  COMPLETENESS
%
%
\subsection{Completeness}
%
%                  COMPLETE SYSTEMS
%
\begin{dfn}
Let $\vs{V}{L}\varphi{E}$ be a simple valuation system.

Consider a sequence
$a_1 \geq a_2 \geq \dotsb$ from~$L$.
We say
\begin{equation*}
a_1 \geq a_2 \geq \dotsb \text{ is \keyword{$\varphi$-convergent}}
\qquad\text{if}\qquad \bw_n \varphi(a_n)\text{ exists.}
\end{equation*}

Similarly,
if
$b_1 \leq b_2 \leq \dotsb$ is
a sequence in~$L$, then 
\begin{equation*}
b_1 \leq b_2 \leq \dotsb \text{ is \keyword{$\varphi$-convergent}}
\qquad\text{if}\qquad \bv_n \varphi(b_n)\text{ exists.}
\end{equation*}
\end{dfn}
%
%                  COMPLETE VALUATION
%
\begin{dfn}
\label{D:system-complete}
Let $\vs{V}{L}\varphi{E}$ be a simple valuation system.\\
We say $\vs{V}{L}\varphi{E}$
is \keyword{complete}
(or simply, $\varphi$ is \keyword{complete})
 provided that
\begin{alignat*}{5}
a_1 \geq a_2 \geq \dotsb \text{$\varphi$-convergent }
  \quad &\implies \quad 
  & \bw_n a_n &\in L\quad 
  &&\text{and}\quad
  &\varphi(\,\bw_n a_n\,) &= \bw_n \varphi(a_n); \\
b_1 \leq b_2 \leq \dotsb \text{$\varphi$-convergent }
  \quad &\implies \quad 
  & \bv_n b_n &\in L\quad 
  &&\text{and}\quad
  &\varphi(\,\bv_n b_n\,) &= \bv_n \varphi(b_n).
\end{alignat*}
\end{dfn}
%
%                  THE LEBESGUE INTEGRAL IS COMPLETE
%
\begin{ex}
The Lebesgue integral
given us the  simple valuation system
\begin{equation*}
\vsLF
\end{equation*}
(see Example~\ref{E:int-val} and
Example~\ref{E:riesz-function-space-simple-system});
we will prove that this system is complete.

Let $f_1 \leq f_2 \leq \dotsb$
be a $\Lphi$-convergent sequence (in $\LF$).
We must prove that 
\begin{equation*}
\bv_n f_n \in\LF
\qquad\text{and}\qquad\Lphi(\bv_n f_n) = \bv_n \Lphi (f_n).
\end{equation*}
This follows immediately from Levi's Monotone Convergence Theorem.

Similarly,
if $g_1 \geq g_2 \geq \dotsb$
is a $\Lphi$-convergent sequence,
then
\begin{equation*}
\bw_n g_n \in\LF
\qquad\text{and}\qquad\Lphi(\bw_n g_n) = \bw_n \Lphi (g_n).
\end{equation*}
So the simple valuation system $\vsLF$ is complete.
\end{ex}
\todo{Add examples: the Lebesgue measure.
Maybe: add a description
of complete systems based on a ring of sets
and of complete systems based on a riesz space of functions.}
%
%                  THE LEBESGUE MEASURE IS COMPLETE
%


\subsection{$\sigma$-distributivity and $R$-completeness}
We would like to
extend a given simple valuation system to a complete one.
To make the theory work,
we concern ourselves only with certain
simple valuation systems,
which we just call ``valuation systems'' (see Definition~\ref{D:system}).
%
%                  ADDITIONAL RESTRICIONS ON THE SYSTE
% 
\begin{dfn}
\label{D:sigma-distributive}
Let~$V$ be a lattice.
We say~$V$ is
\keyword{$\sigma$-distributive}
provided that
\begin{alignat*}{3}
\bw_n c_n\text{ exists} \quad&\implies\quad
&a \vee \bw_n c_n \,&=\, \bw_n\  a\vee c_n, \\
\bv_n c_n\text{ exists} \quad&\implies\quad
&a \wedge \bv_n c_n \,&=\, \bv_n\  a\wedge c_n,
\end{alignat*}
where $a,\,c_1,c_2,\dotsc\in V$.
\end{dfn}
\begin{exs}
\begin{enumerate}
\item
Let $X$ be a set. Then $\wp(X)$ is $\sigma$-distributive.
Indeed,  
\begin{equation*}
\textstyle{
A \cup \bigcap_n C_n \,=\, \bigcap_n A \cup C_n
\qquad
A\cap \bigcup_n C_n \,=\, \bigcup_n A \cap C_n}
\end{equation*}
for all $A,\, C_1,C_2,\dotsc \subseteq X$.
Moreover,
we have already seen
that~$\wp(X)$ satisfies condition~\ref{D:simple-system-1}
of Definition~\ref{D:simple-system}
(see Example~\ref{E:ring-system}).
\item
Let $C$ be totally ordered. Then $C$ is $\sigma$-distributive.

Indeed,
let $a,\,c_1,c_2,\dotsc \in C$ be such that $\bw_n c_n$
exists. We need to prove that $a \vee \bw_n c_n$
is the supremum of~$a\vee c_1,\,a\vee c_2,\,\dotsc$.
To this end note that 
\begin{equation*}
b \leq d_1 \vee d_2 \quad\iff\quad 
b\leq d_1\quad\text{or}\quad b\leq d_2
\qquad\quad(b,d_i\in C).
\end{equation*}
(To see this, recall that $d_1 \vee d_2 = \max\{d_1,d_2\}$.)
Now, for $\ell \in C$, we have
\begin{alignat*}{3}
\forall n [\ \ell \leq a \vee c_n \ ]
\quad&\iff\quad
\ell \leq a
    \quad\text{or}\quad
    \forall n[\ \ell \leq c_n\ ] \\
\quad&\iff\quad
\ell \leq a
    \quad\text{or}\quad
    \ell \leq \bw_n c_n \\
\quad&\iff\quad
\ell \leq a\vee \bw_n c_n.
\end{alignat*}
So we see 
that $a\vee\bw_n c_n$ is the greatest 
lower bound of~$a\vee c_1,\,a\vee c_2\,\dotsc$.

With the same argument,
one can prove that $a \wedge \bv_n c_n = \bv a \wedge c_n$
for all $a,\,c_1,c_2,\dotsc \in C$
such that $\bv_n c_n$ exists.
Hence $C$ is $\sigma$-distributive.

\item
The lattice of the real numbers~$\R$ is a chain
and hence $\sigma$-distributive.

However,
$\R$ does not satisfy condition~\ref{D:simple-system-1}
of Definition~\ref{D:simple-system}.
Indeed,
a sequence $c_1,c_2,\dotsc$ in~$\R$ has a supremum
if and only if it is bounded from above,
i.e. there is an~$a\in \R$ such that $c_n \leq a$
for all~$n$.
Similarly,
a sequence
$c_1,c_2,\dotsc\in \R$ has an infimum
if and only if it is bounded from below.

\item
Let $\E$ be the lattice of the extended real numbers.
Then $\E$ is a chain and hence $\sigma$-distributive.
Moreover,
$\E$ also satisfies condition~\ref{D:simple-system-1}
of Definition~\ref{D:simple-system}.

\item
Let $I$ be a set,
and for each~$i\in I$,
let $L_i$ be a $\sigma$-distributive lattice.
Then the product $L\eqdf \prod_{i\in I} L_i$
is $\sigma$-distributive.
Moreover,
if $L_i$ satisfies condition~\ref{D:simple-system-1}
of Definition~\ref{D:simple-system}
for every~$i\in I$,
then $L$ satisfies condition~\ref{D:simple-system-1}
of Definition~\ref{D:simple-system}.

\item
Let $X$ be a set.
Then lattice $\EX$ of functions from~$X$ to~$\E$
is $\sigma$-distributive and satisfies
condition~\ref{D:simple-system-1}
of Definition~\ref{D:simple-system}.
\end{enumerate}
\end{exs}
%
%                  R-completeness
%
\begin{dfn}
\label{D:R-complete}
Let $E$ be an ordered Abelian group.
Consider the following.
\begin{equation*}
\left[\quad 
\begin{minipage}{.7\columnwidth}
Let $x_1 \leq x_2 \leq \dotsb$
and $y_1 \leq y_2 \leq \dotsb$ be from~$E$
such that
\begin{equation*}
x_{n+1} - x_n \ \leq\ y_{n+1} - y_n\qquad \text{for all }n.
\end{equation*}
Then $\bv x_n $ exists whenever $\bv y_n$ exists.
\end{minipage}
\right.
\end{equation*}
If the above statement holds,
we say~$E$ is \keyword{$R$-complete}.
\end{dfn}

\begin{exs}
\begin{enumerate}
\item
Any $\sigma$-Dedekind complete Riesz space is $R$-complete.

\item
In particular, $\R$ is $R$-complete.

\item
The lexicographic plane~$\Lex$ (see Definition~\todo{add reference})
is $R$-complete,
but~$\Lex$ is not $\sigma$-Dedekind complete.
\end{enumerate}
\end{exs}

\begin{rem}
Let~$E$ be an ordered Abelian group.
Using the map $x\mapsto -x$,
one can easily verify
that $E$ is $R$-complete
if and only if the following statement holds.
\begin{equation*}
\left[\quad 
\begin{minipage}{.7\columnwidth}
Let $x_1 \geq x_2 \geq \dotsb$
and $y_1 \geq y_2 \geq \dotsb$ be from~$E$
such that
\begin{equation*}
x_{n} - x_{n+1}\ \leq\ y_{n} - y_{n+1}\qquad \text{for all }n.
\end{equation*}
Then $\bw y_n $ exists implies that $\bw x_n$ exists.
\end{minipage}
\right.
\end{equation*}
\end{rem}

\begin{prop}
\label{P:R-main}
Let  $E$ be an ordered Abelian group which is $R$-complete.
Let~$L$ be a lattice and $\varphi\colon L \ra E$ a valuation.
\begin{enumerate}
\item
\label{P:R-main-descending}
If  $a_1 \geq a_2 \geq \dotsb$,
$b_1 \geq b_2 \geq \dotsb$
are  $\varphi$-convergent
sequences from~$L$,
then
\begin{equation*}
a_1 \wedge b_1 \,\geq\, a_2 \wedge b_2 \,\geq\, \dotsb
\qquad\text{and}\qquad
a_1 \vee b_1 \,\geq\, a_2 \vee b_2 \,\geq\, \dotsb
\end{equation*}
are $\varphi$-convergent.

\item
\label{P:R-main-ascending}
If  $a_1 \leq a_2 \leq \dotsb$,
$b_1 \leq b_2 \leq \dotsb$
are  $\varphi$-convergent
sequences from~$L$,
then
\begin{equation*}
a_1 \wedge b_1 \,\leq\, a_2 \wedge b_2 \,\leq\, \dotsb
\qquad\text{and}\qquad
a_1 \vee b_1 \,\leq\, a_2 \vee b_2 \,\leq\, \dotsb
\end{equation*}
are $\varphi$-convergent.
\end{enumerate}
\end{prop}
\begin{proof}
\ref{P:R-main-descending}\ 
We prove that $a_1 \wedge b_1 \geq a_2 \wedge b_2 \geq\dotsb$
is $\varphi$-convergent.
For this we need to show that $\bw_n \varphi(a_n\wedge b_n)$ exists.
Note that since $\bw_n \varphi (a_n)$
and $\bw_n \varphi(b_n)$ exist,
we know that $\bw_n \ (\varphi(a_n) + \varphi(b_n))$
exists (see Lemma~??).
So by $R$-completeness,
in order to show $\bw_n\varphi(a_n \wedge b_n)$ exists,
it suffices to prove that 
\begin{equation*}
\varphi(a_{n}\wedge b_{n}) \,-\, \varphi(a_{n+1} \wedge b_{n+1}) 
\ \leq\ 
(\,\varphi(a_{n}) + \varphi(b_{n})\,) 
\,-\, (\,\varphi(a_{n+1}) + \varphi(b_{n+1})\,).
\end{equation*}
Phrased differently
using the distance ``$d_\varphi$'',
we need to prove that
\begin{equation*}
d_\varphi(a_{n}\wedge b_{n},\, a_{n+1} \wedge b_{n+1}) 
\ \leq\ 
d_\varphi(a_{n},a_{n+1}) + d_\varphi(b_{n},b_{n+1}).
\end{equation*}
This follows immediately from Lemma~\ref{L:wv-unif}.

The 
proof that~$a_1 \vee b_1 \geq a_2 \vee b_2 \geq \dotsb$
is $\varphi$-convergent is similar.

\ref{P:R-main-ascending}.  Again, similar.
\end{proof}

\subsection{Valuation systems}
\begin{dfn}
\label{D:system}
A \keyword{valuation system} $\vs{V}{L}\varphi{E}$
is a simple valuation system
for which~$V$ is $\sigma$-distributive
and $E$ is $R$-complete.
\end{dfn}
\todo{Add examples of valuation systems.}

For the following it is convenient to `split' the notion
of complete valuation.
\begin{dfn}
\label{D:system-complete2}
Let $\vs{V}{L}\varphi{E}$ be
a valuation system.
\begin{enumerate}
\item
\label{D:system-complete2-pi}
We say $\vs{V}{L}\varphi{E}$ is \keyword{$\Pi$-complete}
provided that
\begin{alignat*}{5}
a_1 \geq a_2 \geq \dotsb \text{$\varphi$-convergent }
  \quad &\implies \quad 
  & \bw_n a_n &\in L\quad 
  &&\text{and}\quad
  &\varphi(\,\bw_n a_n\,) &= \bw_n \varphi(a_n). 
\end{alignat*}
\item
We say $\vs{V}{L}\varphi{E}$ is \keyword{$\Sigma$-complete}
provided that
\begin{alignat*}{5}
b_1 \leq b_2 \leq \dotsb \text{$\varphi$-convergent }
  \quad &\implies \quad 
  & \bv_n b_n &\in L\quad 
  &&\text{and}\quad
  &\varphi(\,\bv_n b_n\,) &= \bv_n \varphi(b_n). 
\end{alignat*}

\end{enumerate}
\end{dfn}

\end{document}
