\documentclass[main.tex]{subfiles}
\begin{document}
\section{Valuations}
\label{S:vals}
\noindent
Both the Lebesgue measure and Lebesgue integral
are \emph{valuations}.
In fact they are both \emph{complete valuations}
(see Section~\ref{S:complete-val}).
While the better part of this thesis involves
complete valuations,
much can already be said about valuations.

In this section we study the elementary properties of valuations.
We start with some examples in Subsection~\ref{SS:vals_intro}.
We study the distance 
induced by a valuation~$\varphi$,
\begin{equation*}
\ld\varphi(x,y) \ =\ \varphi(x\vee y) \,-\, \varphi(x\wedge y),
\end{equation*}
in Subsection~\ref{SS:vals_d}.
Finally, 
we study the equivalence induced by this distance,
\begin{equation*}
x\approx y\quad\iff\quad \ld\varphi(x,y)=0,
\end{equation*}
in Subsection~\ref{SS:vals_eq}.
The notion of distance 
is especially important.

We end the section 
some exotic
examples
(in Subsection~\ref{SS:more_examples}).
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Introduction}
\label{SS:vals_intro}
\noindent
%
%          DEFINITION OF MODULAR MAPS
%
\begin{dfn}

\label{D:val}
Let $L$ be a lattice. 
Let $E$ an ordered Abelian group
(see Section~\ref{S:ag}).\\
Let  $\varphi\colon L \ra E$ be a map.
We say that
\begin{enumerate}
\item
\label{D:val-mod}
$\varphi$ is \keyword{modular} provided that
\begin{equation*}
\varphi(a\wedge b) \,+\, \varphi(a \vee b)
\ =\ 
\varphi(a) \,+\, \varphi(b)
\qquad(a,b\in L);
\end{equation*}

\item
\label{D:val-val}
$\varphi$ is a \keyword{valuation}
provided that $\varphi$ is modular and order preserving.
\end{enumerate}
\end{dfn}

\begin{ex}
Let $\mathcal{F}$ be the set of finite subsets of~$\N$,
and for each $A\in \mathcal{F}$,
let $\#(A)$ be the number of elements of~$A$.
Then we have 
\begin{equation*}
\#(A\cap B) \,+\, \#(A\cup B) \ =\ \#(A) \,+\, \#(B)
\qquad(A,B\in\mathcal{F}),
\end{equation*}
so obviously the map $\mathcal{F} \ra \N$
given by by $A\mapsto \#(A)$ is a valuation.
\end{ex}

%
%                  LEBESGUE MEASURE IS A VALUATION
%
\begin{ex}
\label{E:lmeas-val}
Let $\LA$ be the set of Lebesgue measurable
subsets of~$\R$ with finite Lebesgue measure.
Then~$\LA$ is a lattice of subsets of~$\R$.
Given~$A\in\LA$,
let $\Lmu(A)$ denote the Lebesgue measure of~$A$.
Then $A\subseteq B \implies \Lmu(A)\leq \Lmu (B)$,
and 
\begin{equation*}
\Lmu(A\cap B) \,+\, \Lmu(A\cup B) \ =\  \Lmu(A) \,+\, \Lmu(B),
\end{equation*}
where $A,B\in \LA$.
So~$\Lmu$ is a valuation.
\end{ex}

%
%                  LEBESGUE INTEGRAL IS A VALUATION
%
\begin{ex}
\label{E:int-val}
Let~$\LF$ be the set of
Lebesgue integrable functions on~$\R$.
When we write ``function on~$\R$''
we mean a map $f\colon \R \ra \E$.
Allowing the infinite values $+\infty$
and $-\infty$
might make the story a bit more complicated
in the short run,
but it will turn out to be a convenient choice later on
(see Remark~\ref{R:non-finite-functions}).


The set~$\LF$ is a lattice
under pointwise ordering,
and  $\LF\cap \R^\R$
is a lattice ordered Abelian group.
The assignment $f\mapsto \int f$ 
yields an order preserving map
\begin{equation*}
\Lphi\colon \LF\longrightarrow \R
\end{equation*}
that is group homomorphism
restricted to~$\LF\cap \R^\R$.

It takes some work see that $\Lphi$ is modular (and hence a valuation).

First,
note that for $x,y\in \R$, we have
\begin{equation*}
\min\{x,y\}\,+\,\max\{x,y\} \ =\ x\,+\,y.
\end{equation*}
So given $f,g\in \LF\cap \R^\R$,
we have $f\wedge g + f \vee g = f+ g$,
and hence
\begin{equation}
\label{eq:lint-fin-mod}
\begin{alignedat}{3}
\Lphi(f\wedge g) \,+\, \Lphi(f\vee g) 
\ &=\ \Lphi(f\wedge g + f\vee g)\\
\ &=\  \Lphi(f+g)\\
\ &=\  \Lphi (f)\,+\,\Lphi(g).
\end{alignedat}
\end{equation}
So we see that~$\Lphi$ is modular on~$\LF\cap \R^\R$.

To see that $\Lphi$ is modular on~$\LF$, we need some observations.
\begin{enumerate}
\item
\label{negl:1}
Let $f\in\LF$.
Then the set of~$x\in \R$ such that $f(x) = +\infty$ 
or $f(x)=-\infty$
is negligible.
Define $f_\R\colon \R \ra \R$ by,
for $x\in \R$,
\begin{equation*}
f_\R(x) \ =\
\begin{cases}
\ f(x) &\text{if $f(x)\in\R$,}\\
\ 0 &\text{otherwise.}
\end{cases}
\end{equation*}
Then $f(x)=f_\R(x)$
for almost all~$x\in \R$.

\item
\label{negl:2}
Let $f_1,f_2 \in \LF$
be given and assume $f_1(x) = f_2(x)$
for almost all~$x\in \R$.
(We denote this by $f_1 \approx f_2$.)
Then we have  $\Lphi(f_1) = \Lphi(f_2)$.

\item
\label{negl:3}
Let $f_1,f_2\in \LF$ with $f_1 \approx f_2$ be given,
and let $g\in \LF$.\\
Then $f_1 \wedge g \approx f_2 \wedge g$
and $f_1 \vee g \approx g_2 \vee g$.
\end{enumerate}
Now,
let $f,g\in \LF$ be given.
To prove that $\Lphi$ is modular,
we must show that 
\begin{equation*}
\Lphi(f)\,+\,\Lphi(g) \ =\  \Lphi(f\wedge g) \,+\, \Lphi(f\vee g).
\end{equation*}
Indeed, we have:
\begin{alignat*}{3}
\Lphi(f) \,+\, \Lphi(g) 
  \ &=\  \Lphi(f_\R) \,+\, \Lphi(g_\R)
    \qquad&&\text{by \ref{negl:1} and \ref{negl:2}}\\
  \ &=\ \Lphi(f_\R\wedge g_\R) \,+\, \Lphi(f_\R \vee g_\R) 
    \qquad&&\text{by Statement~\eqref{eq:lint-fin-mod}}\\
  \ &=\ \Lphi(f\wedge g_\R) \,+\, \Lphi(f \vee g_\R)
    \qquad&&\text{see \ref{negl:3}}\\
  \ &=\ \Lphi(f\wedge g) \,+\, \Lphi(f \vee g)
    \qquad&&
\end{alignat*}
Hence the Lebesgue integral $\Lphi\colon \LF\ra \R$ is a valuation.
\end{ex}

%
%                  ANY MAP ON A CHAIN IS MODULAR
%
\begin{ex}
Let $C$ be a chain,
i.e. a totally ordered set.
Then $C$ is a lattice with
\begin{equation*}
a\wedge b = \min\{a,b\},
 \qquad 
a\vee b = \max\{a,b\}.
\end{equation*}
One quickly sees that
\emph{any map $f\colon C\rightarrow E$
to an ordered Abelian group is modular.}
\end{ex}

%
%                  RING OF SUBSETS
%
\begin{ex}
\label{E:ring-val}
Let~$X$ be a set and let~$\mathcal{A}$ be a ring of subsets of~$X$.
That is,
\begin{equation*}
A\cap B,\qquad\qquad A\cup B,\qquad\qquad A\backslash B
\end{equation*}
are in~$\mathcal{A}$ for all $A,B\in\mathcal{A}$.
Then clearly~$\mathcal{A}$ is a lattice.

Let $E$ be an ordered Abelian group
and let~$\mu\colon \mathcal{A}\rightarrow E$ be a map.
Recall that~$\mu$ is \keyword{additive} if $\mu(A) + \mu(B) = \mu(A\cup B)$
for all $A,B\in\mathcal{A}$ with $A\cap B=\varnothing$.

\emph{If~$\mu$ is additive,
then $\mu$ is modular.}
Indeed,
let $A,B\in \mathcal{A}$ be given. We need to prove that
$\mu(A) + \mu(B) =\mu(A\cap B) + \mu(A\cup B)$
assuming~$\mu$ is additive.
We have
\begin{alignat*}{6}
\mu(A) + \mu(B) \,
  & =\  \mu(\,A\cap B \ \cup\ A\backslash B\,) \,+\, \mu(B) \\ 
  & =\  \mu(A\cap B) \,+\, \mu(A\backslash B)  \,+\, \mu(B)\qquad
    && \text{since } A\cap B \ \cap\ A\backslash B = \varnothing \\ 
  & =\  \mu(A\cap B) \,+\, \mu(A\backslash B \ \cup\ B ) 
    && \text{since } A\backslash B\ \cap\ B = \varnothing \\
  & =\  \mu(A\cap B) \,+\, \mu(A\cup B).
\end{alignat*}

Recall that~$\mu$ is \keyword{positive} whenever
$\mu(A)\in E^+$ for all~$A\in\mathcal{A}$.

\emph{If~$\mu$ is additive and positive,
then~$\mu$ is a valuation.}
Since~$\mu$ is additive,
$\mu$ is modular.
It remains to be shown 
(see Definition~\ref{D:val})
that~$\mu$ is order preserving.\\
Let $A\subseteq B$ from~$\mathcal{A}$ be given
in order to prove $\mu(A)\leq \mu(B)$.
We have
\begin{equation*}
(B\backslash A)\,\cup\, A\,=\,B,\qquad\qquad 
(B\backslash A)\,\cap\, A\,=\,\varnothing.
\end{equation*}
So by additivity, 
$\mu(B)=\mu(B\backslash A)+\mu(A)$.
Then $\mu(B)\geq \mu(A)$, since $\mu(B\backslash A)\geq 0$.
\end{ex}

%
%                  RING OF SIMPLE LEBESGUE SUBSETS
%
\begin{ex}
\label{E:smeas-val}
We describe a ring of subsets of~$\R$
and a positive and additive 
map~$\Smu\colon \SA\ra \R$ that 
will eventually
lead to the Lebesgue measure.

Let $\mathcal{S}$ be the set of all finite intervals of~$\R$,
\begin{equation*}
(a,b)\qquad [a,b)\qquad (a,b]\qquad [a,b]
\qquad\qquad\text{where }a \leq b.
\end{equation*}
Let~$\SA$ be the ring generated by~$\mathcal{S}$.
Every element~$A$ of~$\SA$ is of the form
\begin{equation*}
I_1 \,\cup \,\dotsb \,\cup\, I_N
\end{equation*}
where $I_1,\dotsc,I_N\in \mathcal{S}$
are disjoint.
Let $\Smu(A)$ be given by
\begin{equation*}
\mu_{\mathrm L}(A) \ \eqdf\  |I_1| + \dotsb + |I_N|.
\end{equation*}
One can verify that the number $\Smu(A)$
only depends on~$A$ and not on the choice of~$I_1,\dotsc,I_N$.
Hence we obtain a map~$\Smu\colon \SA \ra \R$.
Almost by definition $\Smu$ is additive and positive.
Hence $\Smu\colon\SA\ra \R$ is a valuation 
(see Example~\ref{E:ring-val}).
\end{ex}


In Example~\ref{E:int-val},
we saw a group homomorphism that is modular,
namely
the Lebesgue integral~$\Lphi$ restricted to~$\R^\R$.
In fact any group homomorphism
on a lattice ordered Abelian group is modular
(see Corollary~\ref{C:hom-val}\ref{C:hom-val-group}).
\begin{ex}
\label{E:1-valuation}
Let~$R$ be a lattice ordered Abelian group.
Then the identity map $\mathrm{id}_R$ is a valuation.
Indeed, $\mathrm{id}_R$ is modular by Lemma~\ref{L:1-valuation},
and clearly order preserving.
\end{ex}

\begin{lem}
\label{L:mod-comp}
Suppose we have the following situation.
\begin{equation*}
\xymatrix{
L' \ar[r]^f&
L \ar[r]^\varphi&
E \ar[r]^g&
E',
}
\end{equation*}
where $L$, $L'$ are lattices,
$E$, $E'$ are ordered Abelian groups,
$f$ is a lattice homomorphism,
$\varphi$ a map,
and $g$ is a group homomorphism.
Then
\begin{enumerate}
\item
\label{L:mod-comp-mod}
$g\circ \varphi \circ f$ is modular
provided that $\varphi$ is modular;
\item
\label{L:mod-comp-val}
$g\circ \varphi \circ f$ is a valuation
provided that $\varphi$ is a valuation
and~$g$ is positive.
\end{enumerate}
\end{lem}
\begin{proof}
\noindent
\ref{L:mod-comp-mod}
\  Suppose~$\varphi$ is modular.
Let $a,b\in L'$ be given.
Writing $\varphi'= g\circ\varphi \circ f$,
we need to prove that
$\varphi'(a\wedge b)+\varphi'(a\vee b)=\varphi'(a)+\varphi'(b)$.
We have
\begin{alignat*}{3}
\varphi'(a) + \varphi'(b)
\ &=\ g(\varphi(f(a))) \,+\, g(\varphi(f(b))) \\
  &=\ g(\ \varphi( f(a)) + \varphi( f(b))\ ) \\
  &=\ g(\ \varphi(f(a)\wedge f(b)) + \varphi(f(a)\vee f(b))\ ) \\
  &=\ g(\  \varphi(f(a\wedge b)) \,+\, \varphi(f(a\vee b))\ ) \\
  &=\ g(\varphi(f(a\wedge b))) \,+\, g(\varphi(f(a\vee b))) \\ 
  &=\ \varphi'(a\wedge b) + \varphi'(a \vee b)
\end{alignat*}
\ref{L:mod-comp-val}
\  Suppose~$\varphi$ is a valuation
and~$g$ is positive.
We need to prove that~$\varphi'\eqdf g\circ \varphi\circ f$
is a valuation.
By part~\ref{L:mod-comp-mod}
we know that~$\varphi'$ is modular.
It remains to be shown that~$\varphi'$ is order preserving.
This is easy: $g$, $\varphi$, and~$f$ are all order preserving.
So $\varphi'=g\circ\varphi\circ f$ must be order preserving too.
\end{proof}

\begin{cor}
\label{C:hom-val}
Let~$R$ be a lattice ordered Abelian group.
\begin{enumerate}
\item
\label{C:hom-val-lat}
Let~$L$ be a lattice.
Any lattice homomorphism $f\colon L\ra R$ 
is a valuation.

\item
\label{C:hom-val-group}
Let $E$ be an ordered Abelian group
and $g\colon R\ra E$ a group homomorphism.
Then $g$ is modular.
Moreover,
if~$g$ is positive,
then~$g$ is a valuation.
\end{enumerate}
\end{cor}
\begin{proof}
Apply Lemma~\ref{L:mod-comp} to the following situations.
\begin{equation*}
\xymatrix{
L\ar[r]^f &
R\ar[r]^{\mathrm{id}_R} &
R\ar[r]^{\mathrm{id}_R} &
R &&
R\ar[r]^{\mathrm{id}_R} &
R\ar[r]^{\mathrm{id}_R} &
R\ar[r]^{g} &
E}
\end{equation*}
(Recall that $\mathrm{id}_R$ is a valuation,
see Example~\ref{E:1-valuation}.)
\end{proof}

%
%                  RIESZ SPACE OF FUNCTIONS
%
\begin{ex}
\label{E:val-riesz-space-of-functions}
Let $X$ be a set.
We say that $F\subseteq \R^X$
is  \emph{Riesz space of functions} if
\begin{equation*}
f\vee g,\quad\qquad 
f\wedge g,\quad\qquad
f+g,\quad\qquad 
\lambda \cdot f
\end{equation*}
are all in~$F$
where $f,g\in F$ and $\lambda \in \R$.
Then~$F$ is a lattice ordered Abelian group.

Let~$E$ be an ordered Abelian group
and let $\varphi\colon F\ra E$ be a positive linear map.
We see that~$\varphi$ is a valuation
 by Corollary~\ref{C:hom-val}\ref{C:hom-val-group}.
\end{ex}

%
%                  RIESZ SPACE OF STEP FUNCTIONS
%
\begin{ex}
\label{E:sint-val}
We  describe a Riesz space
of functions~$\SF$ on~$\R$
and a positive linear map~$\Sphi\colon \SF\ra \R$
that will eventually lead to the Lebesgue integral.

A \emph{step function} is a function~$f\colon \R\ra\R$
for which there are $s_1 < s_2 <\dotsb <s_N$ in~$\R$
such that $f$ is constant on each~$(s_n,s_{n+1})$
and $f$ is zero outside $[s_1,s_N]$.

Let $\SF$ be the set of step functions.
One can easily see that~$\SF$ is a Riesz space of functions.
Let $f\in \SF$.
Let $s_1 < s_2 <\dotsb <s_N$
be such that $f$ is constant, say $c_n\in \R$,
 on~$(s_n,s_{n+1})$
and $f$ is zero outside $[s_1,s_N]$.
One can prove that 
\begin{equation}
\label{exp:step}
\sum_{n=1}^{N-1} \, c_n\cdot(s_{n+1} - s_n)
\end{equation}
does not depend on the choice
of~$s_1 < s_2 <\dotsb <s_N$.
So Expression~\eqref{exp:step}
gives a map $\Sphi \colon \SF \ra \R$.
This map is easily seen to be linear.

Consequently, $\Sphi\colon \SF\ra \R$
is a valuation (see Example~\ref{E:val-riesz-space-of-functions}).
\end{ex}

\noindent
We end this subsection
with some tame examples of valuations we 
need later on.
\begin{ex}
\label{E:val-product}
Let $I=\{ 1,2\}$.
For each $i\in I$, 
let $L_i$ be a lattice,
$E_i$ an ordered Abelian group,
and $\varphi_i \colon L_i \ra E_i$
a valuation.
Then 
the map 
\begin{equation*}
\varphi_1 \times \varphi_2 \colon \,
L_1 \times L_2 \,\longrightarrow\, E_1 \times E_2,
\end{equation*}
given by $(\varphi_1 \times\varphi_2)(a_1,a_2) = (\varphi_1(a),\varphi_2(b))$
for all~$a_i\in L_i$, is a valuation.

We call the valuation $\varphi_1 \times \varphi_2$
the \emph{product} of $\varphi_1$ and $\varphi_2$.
Of course,
one can similarly define a product of an $I$-indexed family
of valuations for any set~$I$.
\end{ex}

\begin{ex}
\label{E-val-opposite}
Let $L$ be a lattice.
If we reverse the order on~$L$,
i.e., consider the partial order on~$L$ 
given by $\smash{a \leq_{L^\mathrm{op}} b}
\iff a\geq_L b$,
then if a subset~$S\subseteq L$
has a supremum, $\bigvee S$,
then $\bigvee S$ is the 
\emph{infimum} of~$S$
with respect to~$\leq^\mathrm{op}$.
So we see that $\leq^\mathrm{op}$
gives us a lattice, $L^\mathrm{op}$.
(The \emph{opposite} lattice.)

Let~$E$ be an ordered Abelian group.
If we reverse the order on~$E$,
we obtain an ordered Abelian group~$E^\mathrm{op}$
with the same group structure,
but whose positive elements, $\smash{(E^\mathrm{op})^+}$,
are precisely the negative elements of~$E$.

Let~$\varphi\colon L\ra E$ be a modular map
(see Definition~\ref{D:val}).
Then one quickly sees that $\varphi$ is also modular considered as a map
$L^\mathrm{op} \ra E$.
However,
$\varphi\colon L^\mathrm{op}\ra E$
is a valuation (that is, also order preserving)
if and only if $\varphi\colon L\ra E$
is order \emph{reversing},
i.e., $a\leq b\implies \varphi(a)\geq \varphi(b)$ for
all $a,b\in L$.

Of course,
if $\varphi\colon L\ra E$ is a valuation,
then $\varphi$ is a valuation $L^\mathrm{op}\ra E^\mathrm{op}$.
\end{ex}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%j%
%
%
%                  DISTANCE INDUCED BY 
%                     a valuation
%
%
\subsection{Distance Induced by a Valuation}
\label{SS:vals_d}
In this subsection,
we derive some facts 
concerning the following notion
of distance induced by a valuation.
\begin{dfn}
\label{D:d}
Let $E$ be an ordered Abelian group.
Let $L$ be a lattice.\\
Let $\varphi\colon L \ra E$ be a valuation.
Define $\ld\varphi\colon L\times L \ra E$ by
\begin{equation*}
\ld\varphi(a,b)\ =\  \varphi(a\vee b) - \varphi(a \wedge b)
\qquad\quad(a,b\in L).
\end{equation*}
\end{dfn}

To give the name ``distance'' for~$\ld\varphi$ some credibility,
we will prove that $\ld\varphi$ 
is a pseudometric (see Lemma~\ref{L:d-metric}).
After that,
we turn our attention to the following fact,
which we will use often.
Given~$a\in L$, the map $x\mapsto a\wedge x$ is a \emph{contraction}, i.e.,
\begin{equation*}
\ld\varphi(\,a\wedge x,\, a\wedge y\,)
\ \ \leq\ \ \ld\varphi(x,y)
\qquad\quad(x,y\in L).
\end{equation*}
In fact,
we will prove the following, stronger, statement
(see Lemma~\ref{L:curry-wc-unif}).
\begin{equation*}
\ld\varphi(\,a\wedge x,\, a\wedge y\,) \ +\ 
\ld\varphi(\,a\vee x,\, a\vee y\,)
\ \ \leq\ \ \ld\varphi(x,y)
\qquad\quad(x,y\in L).
\end{equation*}

Before we do all this,
let us consider some examples.
%
%                  EXAMPLES OF DISTANCE
%
\begin{ex}
\label{E:d-riesz}
Let~$E$ be an ordered Abelian group.
Let $F$ be a Riesz space of functions,
and let $\varphi\colon F\ra E$ be
a positive and linear map
(see Example~\ref{E:val-riesz-space-of-functions}).

Let $f,g\in F$ be given.
The distance between $f$ and $g$ is the usual one,
\begin{equation*}
\ld\varphi(f,g) \,=\, \|f-g\|_1 \ \eqdf\ \varphi(\,|f-g|\,).
\end{equation*}
To see this,
note that since~$\varphi$ is linear,
we have 
\begin{equation*}
\ld\varphi(f,g) \,=\, 
\varphi(f\vee g) - \varphi(f\wedge g)
\,=\, \varphi(f\vee g - f\wedge g).
\end{equation*}
Further,
since we have the identity $\max\{x,y\} - \min\{x,y\} = |x-y|$
for reals $x,y$,
we have the identity $f\vee g - f\wedge g = |f-g|$
for functions.
\end{ex}
\begin{ex}
Let $E$ be an ordered Abelian group.
Let $\mathcal{A}$ be a ring of sets,
and let $\mu\colon \mathcal{A}\ra E$
be a positive additive map
(see Example~\ref{E:ring-val}).
Let $A,B\in\mathcal{A}$.
We have
\begin{equation*}
\ld\mu(A,B) \ =\ \mu(A \ominus B),
\end{equation*}
where $A\ominus B \eqdf A\backslash B \,\cup\, B\backslash A$
is the \emph{symmetric difference} of~$A$ and~$B$.
To see this, note that $A\cup B$ is the disjoint union
of $A\ominus B$ and $A\cap B$. So
since $\mu$ is additive, 
\begin{equation*}
\mu(A\cup B) \ =\ \mu(A\ominus B) + \mu(A\cap B).
\end{equation*}
\end{ex}
%
%                  LEMMA ON THE DISTANCE
%
\begin{lem}
\label{L:d-metric}
Let $E$ be an ordered Abelian group.\\
Let $L$ be a lattice,
and let $\varphi\colon L \ra E$ be a valuation.\\
Let $a,b,z\in L$ be given.
We have:
\begin{enumerate}
\item \label{d-metric_pos}
$\ld\varphi(a,b)\,\geq\, 0$
\item\label{d-metric_self} 
$\ld\varphi(a,a)\,=\,0$
\item\label{d-metric_sym}
$\ld\varphi(a,b)\,=\,\ld\varphi(b,a)$
\item\label{d-metric_triangle}
$\ld\varphi(a,b)\,\leq\,\ld\varphi(a,z)\,+\,\ld\varphi(z,b)$
\end{enumerate}
\end{lem}
\begin{proof}
Only point~\ref{d-metric_triangle} requires some work.
Let $a,b,z\in L$ be given.
We want to show that $\ld\varphi(a,b) \leq \ld\varphi(a,z)+\ld\varphi(z,b)$.
In other words:
\begin{equation}
\label{eq:d-metric}
\varphi(a\vee b) \,+\, \varphi(a\wedge z) \,+\, \varphi (z\wedge b)
\ \leq\ 
\varphi (a\vee z) \,+\, \varphi(z\vee b) \,+\, \varphi (a\wedge b)\text{.}
\end{equation}
By modularity,
the left-hand side equals
\begin{equation*}
\varphi(a\vee b) 
 \,+\, \varphi(\,(a\wedge z)\vee(b\wedge z)\,)
 \,+\, \varphi(a\wedge b\wedge z).
\end{equation*}
On the other hand,
using modularity
the right-hand side of Inequality~\eqref{eq:d-metric} becomes
\begin{equation*}
\varphi(a\vee b\vee z)
 \,+\, \varphi(\,(a\vee z)\wedge(b\vee z)\,)
 \,+\, \varphi(a\wedge b).
\end{equation*}
Note that $a\vee b \leq a\vee b\vee z$,
and $(a\wedge z)\vee (b\wedge z) \leq z \leq (a\vee z)\wedge (b\vee z)$,
and $a\wedge b\wedge z \leq a\wedge b$,
so that the monotonicity of~$\varphi$ yields Inequality~\eqref{eq:d-metric}.
\end{proof}
%
%                  DEFINITION HAUSDORFF
%
\noindent
It is possible that $\ld\varphi(a,b) = 0$ while $a\neq b$
(see Example~\ref{E:eq-int}).
So in general, $\ld\varphi$ is not a metric
(but merely a  \emph{pseudo}metric).
Those $\varphi$ for which~$\ld\varphi$ is a metric
turn out to be useful. So let us give them a name.
\begin{dfn}
\label{D:val_Hausdorff}
Let $L$ be a lattice.
Let $E$ be an ordered Abelian group.\\
Let $\varphi\colon L \ra E$ be a valuation.
We say $\varphi$ is \keyword{Hausdorff}
provided that
\begin{equation*}
\ld\varphi(a,b) = 0 
\quad \implies \quad a=b \qquad\qquad(a,b\in L).
\end{equation*}
\end{dfn}
\noindent
We return to Hausdorff valuations in Subsection~\ref{SS:vals_eq}.
%
%                  CURRY-WC-UNIF
%
\begin{lem}
\label{L:curry-wc-unif}
Let $E$ be an ordered Abelian group.\\
Let $L$ be a lattice,
and $\varphi\colon L \ra E$ a valuation.
We have,
for $a,b,z\in L$,
\begin{equation*}
\ld\varphi(a\wedge z,\,b\wedge z)\,+\,
 \ld\varphi(a\vee z,b\vee z)\ \leq\ \ld\varphi(a,b).
\end{equation*}
\end{lem}
\begin{proof}
By expanding Definition~\ref{D:d},
we see that 
we need to prove that
\begin{equation}
\label{eq:curry-wc-unif}
\begin{split}
\varphi(a\vee b\vee z) \,+\,
\varphi(\,(a\wedge z)\vee(b\wedge z)\,) & \,+\,
\varphi(a\wedge b) \\
\ \leq\ 
\varphi(a \vee b)  \,+\, &
\varphi(\,(a\vee z)\wedge(b\vee z)\,) \,+\,
\varphi(a\wedge b \wedge z)
\end{split}
\end{equation}
By modularity,
the left-hand side equals
\begin{equation*}
\varphi(a\vee b \vee z) \,+\,
\varphi(\, (a\wedge z) \vee (b\wedge z) \vee (a\wedge b)\,) \,+\,
\varphi(\,a\wedge b\wedge ( (a \wedge z) \vee (b\wedge z) )\,).
\end{equation*}
To simplify the above expression,
we prove that
$a\wedge b\wedge ( (a \wedge z) \vee (b\wedge z)=a\wedge b\wedge z$.
To this end, note that
$a\wedge z \,\leq\, (a\wedge z)\vee (b\wedge z) \leq z$
so that 
\begin{equation*}
a\wedge b\wedge z
\, =\, a\wedge b \wedge (a\wedge z)
\,\leq\, a\wedge b \wedge ((a\wedge z)\vee (b\wedge z))
\,\leq\, a\wedge b \wedge z.
\end{equation*}
Hence the left-hand side of Inequality~\eqref{eq:curry-wc-unif}
equals
\begin{equation*}
\varphi(a\vee b \vee z) \,+\,
\varphi(\, (a\wedge z) \vee (b\wedge z) \vee (a\wedge b)\,) \,+\,
\varphi(\,a\wedge b\wedge z\,).
\end{equation*}
In a similar fashion,
one can show that the right-hand side of Inequality~\eqref{eq:curry-wc-unif}
equals
\begin{equation*}
\varphi(a\vee b \vee z) \,+\,
\varphi(\, (a\vee z) \wedge (b\vee z) \wedge (a\vee b)\,) \,+\,
\varphi(\,a\wedge b\wedge z\,).
\end{equation*}
So in order to prove Inequality~\eqref{eq:curry-wc-unif},
we must show that
\begin{equation*}
\varphi(\, (a\wedge z) \vee (b\wedge z) \vee (a\wedge b)\,) 
\ \leq\ 
\varphi(\, (a\vee z) \wedge (b\vee z) \wedge (a\vee b)\,).
\end{equation*}
Since $\varphi$ is order preserving,
it suffices to show that 
\begin{equation*}
 (a\wedge z) \vee (b\wedge z) \vee (a\wedge b)
\ \leq\ 
  (a\vee z) \wedge (b\vee z) \wedge (a\vee b).
\end{equation*}
Writing $c_1 = a$, $c_2 = b$, and $c_3 = z$,
we must prove that 
\begin{equation*}
\bv_{i\neq j}\, c_i \wedge c_j \ \leq\ \bw_{k\neq \ell}\, c_k \vee c_\ell.
\end{equation*}
That is,
we must show that 
$c_i \wedge c_j \leq c_k \vee c_\ell$
for given $i\neq j$ and $k\neq \ell$.
Now, note
\begin{equation*}
\# (\{ i,j \} \cap \{ k,\ell\}) + \#\{i,j,k,\ell\}
\ = \ \# \{i,j\} + \# \{k,\ell \}
\ = \ 4.
\end{equation*}
Since  $\# \{ i,j,k,\ell \}\leq 3$,
we see that $\# \{ i,j \} \cap \{ k,\ell\} \geq 1$.
So pick $m\in  \{ i,j \} \cap \{ k,\ell\}$.
Then $c_i \wedge c_j \leq c_m \leq c_k \vee c_\ell$.
\end{proof}
%
%                  WC-UNIF
%
\begin{lem}
\label{L:wv-unif}
Let $E$ be an ordered Abelian group.\\
Let $L$ be a lattice,
and $\varphi\colon L \ra E$ a valuation.
Then we have
\begin{equation*}
\ld\varphi(a\wedge w,b\wedge z) \,+\, \ld\varphi(a \vee w,b\vee z)
\ \leq\ 
\ld\varphi(a,b) \,+\, \ld\varphi(w,z),
\end{equation*}
where $a,b,w,z\in L$.
\end{lem}
\begin{proof}
By the triangle inequality (point~\ref{d-metric_triangle}
of Lemma~\ref{L:d-metric}),
we have
\begin{equation}
\label{eq:L:d-metric-1}
\begin{alignedat}{3}
\ld\varphi(a\wedge w,\,b\wedge z)\ &\leq\ 
\ld\varphi(a\wedge w,\,b\wedge w)\,+\,
\ld\varphi(b\wedge w,\,b\wedge z), \\
\ld\varphi(a\vee w,\,b\vee z)\ &\leq\ 
\ld\varphi(a\vee w,\,b\vee w)\,+\,
\ld\varphi(b\vee w,\,b\vee z).
\end{alignedat}
\end{equation}
On the other hand, Lemma~\ref{L:curry-wc-unif} gives us
\begin{equation}
\label{eq:L:d-metric-2}
\begin{alignedat}{3}
\ld\varphi(a\wedge w,b\wedge w) + \ld\varphi(a\vee w,b\vee w)
   \ &\leq\ \ld\varphi(a,b), \\
\ld\varphi(b\wedge w,b\wedge z) + \ld\varphi(b\vee w, b\vee z)
   \ &\leq\ \ld\varphi(w,z).
\end{alignedat}
\end{equation}
The sum of the right-hand sides of Equation~\eqref{eq:L:d-metric-1}
equals the sum of the left-hand sides of Equation~\eqref{eq:L:d-metric-2}.
Hence
$\ld\varphi(a\wedge w,b\wedge z) + \ld\varphi(a \vee w,b\vee z)
\leq 
\ld\varphi(a,b) + \ld\varphi(w,z)$.
\end{proof}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%                  EQUIVALENCE INDUCED BY A VALUATION
%
\subsection{Equivalence Induced by a Valuation}
\label{SS:vals_eq}
In measure theory
two functions are considered equivalent
if they are equal almost everywhere.

In this subsection, we extend this notion of equivalence 
to valuations. 
%
%                  DEFINITION OF EQUIVALENCE
%
\begin{dfn}
\label{D:eq}
\label{D:approx}
Let $E$ be an ordered Abelian group.
Let $L$ be a lattice.\\
Let $\varphi\colon L\ra E$ be a valuation.
We define $\approx$ to be 
the binary relation on~$L$ given by
\begin{equation*}
a \approx b
\quad\iff\quad
\ld\varphi(a,b)=0\qquad\qquad(a,b\in L).
\end{equation*}
\end{dfn}
\begin{rem}
$\varphi$ is Hausdorff (see Definition~\ref{D:val_Hausdorff})
iff $a \approx b\iff a = b$.
\end{rem}
%
%                  EXAMPLES OF EQUIVALENCE
%
\begin{ex}
\label{E:eq-int}
We consider the Lebesgue integral $\Lphi\colon \LF\ra \R$
(see Example~\ref{E:int-val}).

Let $f,g\in \LF\cap \R^\R$ be given.
By Example~\ref{E:d-riesz} 
we know that
\begin{equation}
\label{eq:eq-int}
f\approx g\quad\iff\quad \Lphi(\,|f-g|\,)=0.
\end{equation}
In fact,
Statement~\eqref{eq:eq-int}
holds for all~$f,g\in \LF$,
as the reader can verify using the remarks
made in Example~\ref{E:int-val}.

Now, for any $h\in \LF$
with $h\geq 0$,
we have that
\begin{equation*}
\Lphi(h)\,=\,0
\quad\iff\quad \text{$h(x)=0$\quad for almost all~$x$.}
\end{equation*}
So we see that
we have, for $f,g\in \LF$,
\begin{equation*}
f\approx g\quad\iff\quad f(x) = g(x)\quad\text{for almost all~$x$}.
\end{equation*}
So ``$\approx$''
is \emph{equality almost everywhere}
when $\varphi=\Lphi$,
as was intended.
\end{ex}
%
%                  PROP ON EQUIVALENCE
%
\begin{prop}
\label{P:eq}
Let $E$ be an ordered Abelian group.
Let $L$ be a lattice.\\
Let $\varphi\colon L\ra E$ be a valuation.
Let $\approx$ be as in Definition~\ref{D:eq}.
\begin{enumerate}
\item
\label{P:eq-1}
The relation $\approx$ is an equivalence.
\item 
\label{P:eq-2}
Let~$a_1,a_2\in L$ with 
with $a_1\approx a_2$ be given.
Then $\varphi(a_1)=\varphi(a_2)$.
\item
\label{P:eq-3}
Let $a_1,a_2 \in L$ with $a_1\approx a_2$,
and let $b_1,b_2 \in L$ with $b_1 \approx b_2$ be given.
Then
\begin{equation*}
a_1 \wedge b_1 \,\approx\, a_2 \wedge b_2
\qquad\text{and}\qquad 
a_1 \vee b_1 \,\approx\, a_2 \vee b_2.
\end{equation*}
\item
\label{P:eq-4}
Let $a_1,a_2 \in L$ with $a_1\approx a_2$,
and let $b_1,b_2 \in L$ with $b_1 \approx b_2$ be given.
Then
\begin{equation*}
\ld\varphi(a_1,b_1)\ =\ \ld\varphi(a_2,b_2).
\end{equation*}
\end{enumerate}
\end{prop}
\begin{proof}
\ref{P:eq-1}\ 
The relation~$\approx$ is clearly reflexive
and symmetric. So to prove~$\approx$ is an equivalence relation,
we will only show that~$\approx$ is transitive.
Let $a,b,c\in L$ with $a\approx b\approx c$ be given.
We must show that $a\approx c$.
Or in other words, $\ld\varphi(a,c) = 0$.

By Lemma~\ref{L:d-metric}, points~\ref{d-metric_pos}
and~\ref{d-metric_triangle},
we get
\begin{equation}
\label{eq:P:eq-1}
0 \ \leq\ \ld\varphi(a,c) \ \leq\ 
\ld\varphi(a,b) + \ld\varphi(b,c).
\end{equation}
But 
$\ld\varphi(a,b)=0$ and $\ld\varphi(b,c)=0$,
since $a\approx b$ and $b\approx c$, respectively.

So we see that Statement~\eqref{eq:P:eq-1} implies $\ld\varphi(a,c)= 0$.
Hence $a\approx c$.

\vspace{.3em}
\ref{P:eq-2}\ 
Let $a_1,a_2\in L$ with $a_1\approx a_2$ be given.
We must prove $\varphi(a_1) = \varphi(a_2)$.

Let $i\in\{1,2\}$ be given. 
Note that $a_1 \wedge a_2 \leq a_i \leq a_1 \vee a_2$.
So we have 
\begin{equation}
\label{eq:P:eq-2}
\varphi(a_1 \wedge a_2) \ \leq\ \varphi(a_i) \ \leq\  \varphi(a_1 \vee a_2).
\end{equation}
Since $\ld\varphi(a_1,a_2)=0$,
we know that $\varphi(a_1 \vee a_2) = \varphi(a_1 \wedge a_2)$.
So Statement~\eqref{eq:P:eq-2}
implies that
$\varphi(a_1 \vee a_2) = \varphi(a_i) = \varphi(a_1 \wedge a_2)$.
Hence $\varphi(a_1) = \varphi(a_2)$.

\vspace{.3em}
\ref{P:eq-3}
Let $a_1,a_2 \in L$ with $a_1 \approx a_2$ be given.
Let $b_1,b_2 \in L$ with $b_1 \approx b_2$ be given.
We will only show that $a_1 \wedge b_1 \approx a_2 \wedge b_2$;
the proof of $a_1 \vee b_1 \approx a_2 \vee b_2$ is similar.

Note that we have the following inequalities by 
Lemma~\ref{L:d-metric}\ref{d-metric_pos}
and Lemma~\ref{L:wv-unif}.
\begin{equation}
\label{eq:P:eq-3}
0\ \leq\ 
\ld\varphi(a_1 \wedge b_1, a_2\wedge b_2)
\ \leq\ 
\ld\varphi(a_1,b_1) + \ld\varphi(a_2,b_2)
\end{equation}
Since $a_1 \approx a_2$ and $b_1 \approx b_2$,
we have $\ld\varphi(a_1,b_1)=0$
and $\ld\varphi(a_2,b_2)=0$,
respectively.
Hence Statement~\eqref{eq:P:eq-3} implies 
$\ld\varphi(a_1\wedge b_1, a_2 \wedge b_2)=0$.
So $a_1 \wedge b_1 \approx a_2 \wedge b_2$.

\vspace{.3em}
\ref{P:eq-4}
Let $a_1,a_2 \in L$ with $a_1 \approx a_2$ be given.
Let $b_1,b_2 \in L$ with $b_1 \approx b_2$ be given.
We must prove that $\ld\varphi(a_1,b_1)=\ld\varphi(a_2,b_2)$.
Note that
by point~\ref{P:eq-3}
we have
\begin{alignat*}{5}
a_1 \wedge b_1 &\approx a_2 \wedge b_2&
\qquad&\text{and}\qquad&
a_1 \vee b_1 &\approx a_2 \vee b_2.&
\shortintertext{%
So by point~\ref{P:eq-2} of this lemma, we get}
\varphi(a_1 \wedge b_1) &= \varphi( a_2 \wedge b_2)&
\qquad&\text{and}\qquad&
\varphi(a_1 \vee b_1)&=\varphi(a_2 \vee b_2).&
\end{alignat*}
So if we unfold Definition~\ref{D:d},
we see that
\begin{alignat*}{5}
\ld\varphi(a_1,b_1)
\ &=\ 
\varphi(a_1 \vee b_1) - \varphi(a_1 \vee b_1) \\
\ &=\ 
\varphi(a_2 \vee b_2) - \varphi(a_2 \vee b_2)
\ =\ 
\ld\varphi(a_2,b_2).\qedhere
\end{alignat*}
\end{proof}
%
%                  THE QUOTIENT LATTICE
%
\noindent
When studying the Lebesgue integrable functions, $\LF$,
it is sometimes convenient
to consider the space~$\mathrm{L}^1 = \qvL{\LF}$
of integrable functions modulo equality almost everywhere
(see Example~\ref{E:eq-int}).
Of course,
one can consider the space $\qvL{L}$ 
for any valuation~$\varphi\colon L\ra E$.
We list some of the properties of~$\qvL{L}$
in Proposition~\ref{P:quotient-lattice}.
\begin{prop}
\label{P:quotient-lattice}
Let $E$ be an ordered Abelian group.\\
Let $L$ be a lattice.
Let $\varphi\colon L \ra E$ be a valuation.
Let $\approx$ be as in Definition~\ref{D:eq}.\\
Let $\qvL{L}$ denote the quotient set,
and let $q\colon L\ra \qvL{L}$ be the
quotient map. Then:
\begin{enumerate}
\item
The set
$\qvL{L}$ is lattice if
the operations are given by
\begin{equation*}
qa \wedge qb \,=\, q(a\wedge b),
\qquad
 qa \vee qb \,=\, q(a\vee b)\qquad\quad(a,b\in L).
\end{equation*} 
Then, in particular, $q\colon L\ra \qvL{L}$ is a lattice homomorphism.

\item
There is a unique map $\qvphi\varphi\colon\qvL{L}\ra E$
such that
\begin{equation*}
(\qvphi\varphi)(q(a)) \ =\ \varphi(a)\qquad\quad(a\in L).
\end{equation*}
Moreover, the map $\qvphi\varphi$ is a valuation.

\item
We have
\ $\ld{\qvphi{\varphi}}(\,qa,\,qb\,) \,=\,\ld\varphi(a,b)$\ \ 
for all \ $a,b\in L$.

\item
\label{P:quotient-lattice-iv}
We have
\ $\ld{\qvphi{\varphi}}(\mathfrak{a},\mathfrak{b})=0
\ \implies \ 
\mathfrak{a} = \mathfrak{b}$\ \ 
for all \ $\mathfrak{a},\mathfrak{b}\in \qvL{L}$.
\end{enumerate}
\end{prop}
\begin{proof}
Follows from Proposition~\ref{P:eq}.
We leave the verification to the reader.
\end{proof}
\begin{rem}
Note that $\qvphi\varphi$ is Hausdorff 
(see Definition~\ref{D:val_Hausdorff})
by Proposition~\ref{P:quotient-lattice}\ref{P:quotient-lattice-iv}.
\end{rem}
%

\subsection{More Examples}
\label{SS:more_examples}
%
%                  TOTIENT FUNCTION
%
\noindent
Valuations also appear outside measure theory.\\
We begin with an example from elementary number theory.
\begin{ex}
Recall that \emph{Euler's totient function}
$\varphi$
is given by,
for $n\in \N$,
\begin{equation*}
\varphi(n) \ =\ \#\{ \  x\in \{1,\dotsc,n\}\colon \ \gcd\{x,n\}=1\ \}.
\end{equation*}
We will prove that~$\varphi$
is a valuation `with respect to the division order'.

More precisely,
we consider $\varphi$ to be a map
\begin{equation*}
\varphi\colon \N \longrightarrow  \Q^\circ,
\end{equation*}
where $\Q^\circ$
is the set of strictly positive rational numbers.
Write, for $q,r\in\Q^\circ$,
\begin{equation*}
q\dv r \quad\iff\quad \exists n\in\N\, [\ q \cdot n \ =\  r\ ].
\end{equation*}
We order the sets~$\N$ and $\Q^\circ$ by ``$\dv$''.
They are both lattices with
\begin{equation*}
a\wedge b \ =\ \gcd\{a,b\},\qquad a \vee b \ =\ \lcm\{a,b\}.
\end{equation*}
Moreover,
$\Q^\circ$
is an ordered Abelian group under the normal multiplication~``$\cdot$''.

Before we prove that $\varphi$ is a valuation,
we make a useful observation: for $n\in\N$,
\begin{equation}
\label{eq:phi-Z-inv}
\varphi(n) \ =\ \# \Zmod{n}^*.
\end{equation}
Here $\Zmod{n}$ is the set of integers modulo~$n$,
and $\Zmod{n}^*$
are the invertible elements of~$\Zmod{n}$.

To see that Equation~\eqref{eq:phi-Z-inv} holds,
note that for~$x\in \Z$, we have
\begin{alignat*}{3}
\gcd\{x,n\}\,=\,1
\quad&\iff&\quad
\exists a,b\in\Z,& \quad ax + bn \,=\,1  
\qquad&& \text{by B\'ezout's Lemma}\\
\quad&\iff&\quad
\exists a,b\in\Z,& \quad ax  \,=\,1 - bn 
\qquad&& \\
\quad&\iff&\quad
\exists a\in\Z,& \quad [a]_n\cdot[x]_n \,=\,1 \  
\qquad&& \\
\quad&\iff&\quad
& \quad [x]_n \,\in\, \Zmod{n}^*,
\qquad&& 
\end{alignat*}
where $[-]_n\colon \Z \rightarrow \Zmod{n}$
is the quotient map.

Let us now prove that~$\varphi$ is a valuation.
We first prove that~$\varphi$ is order preserving.
Let $m,n\in \N$ with $m\dv n$ be given.
We must show that $\varphi(m) \,\dv\, \varphi(n)$.

Note that there is a unique ring homomorphism
$h\colon \Zmod{n}\rightarrow \Zmod{m}$
given by,
for $x\in \Z$,
\begin{equation*}
h(\,[x]_n\,) \ =\ [x]_m.
\end{equation*}
Note that~$h$ is surjective,
and that $[x]_n$ if invertible iff $[x]_m$ is invertible
for $x\in \Z$.
So we see that if we restrict~$h$ to~$\Zmod{n}^*$,
we get a surjective group homomorphism
\begin{equation*}
\tilde{h}\colon \Zmod{n}^* \longrightarrow \Zmod{m}^*.
\end{equation*}
By Lagrange's Theorem we know that
\begin{equation*}
\# \Zmod{m}^*  \,\cdot\, \# \ker(\tilde h) \ =\ \# \Zmod{n}^*,
\end{equation*}
where $\ker(\tilde{h}) 
\eqdf\smash{\{\, a\in \Zmod{n} \colon \,\tilde{h}(a)=0\,\}}$
is the kernel of~$\tilde{h}$.
Thus
\begin{equation*}
\varphi(m) \,=\,
\# \Zmod{m}^*  \,\dv\,
 \# \Zmod{n}^*
\,=\,\varphi(n).
\end{equation*}
Hence $\varphi$ is order preserving.

It remains to be shown that~$\varphi$
is modular. That is,
for $m,n\in\N$,
\begin{equation}
\label{eq:totient-modular}
\varphi(\,\gcd\{m,n\}\,) \,\cdot\, \varphi(\,\lcm\{m,n\}\,)
\ =\ 
\varphi(m) \,\cdot\,\varphi(n).
\end{equation}

We first prove a special case,
namely,
that for $m,n\in\N$ with $\gcd\{m,n\}=1$,
\begin{equation}
\label{eq:totient-additive}
\varphi(m\cdot n) \ =\ \varphi(m)\,\cdot\,\varphi(n).
\end{equation}
By the Chinese Remainder Theorem we 
have the following isomorphism of rings.
\begin{equation*}
\Zmod{m} \times \Zmod{n} \ \cong\ \Zmod{m\cdot n}
\end{equation*}
As a consequence, we get the following
isomorphism of groups.
\begin{equation*}
\Zmod{m}^* \times \Zmod{n}^* \ \cong\ \Zmod{m\cdot n}^*
\end{equation*}
If we count the number of elements in the above
groups we see that
\begin{equation*}
\#\Zmod{m}^* \,\cdot\, \#\Zmod{n}^* \ =\ \#\Zmod{m\cdot n}^*.
\end{equation*}
Hence Equation~\eqref{eq:totient-additive}
holds (see Equation~\eqref{eq:phi-Z-inv}).

Let $m,n\in \N$ be given.
We prove that Equation~\eqref{eq:totient-modular} holds.

By the Fundamental Theorem of Arithmatic,
we have 
\begin{alignat*}{3}
m \,&=\,\prod_{p\in\Prm}\ p^{w(p)},&
\qquad
n \,&=\,\prod_{p\in\Prm}\ p^{v(p)},
\shortintertext{%
where $v,w\colon \Prm \ra \{0,1,2,\dotsc\}$
have finite support,
and $\Prm$ are the primes.
Hence}
\varphi(m) \,&=\,\prod_{p\in\Prm}\ \varphi(p^{w(p)}),&
\qquad
\varphi(n) \,&=\,\prod_{p\in\Prm}\ \varphi(p^{v(p)}),
\end{alignat*}
by Equation~\eqref{eq:totient-additive},
because $\gcd\{p_1^{k_1},p_2^{k_2}\}=1$
for all~$p_1 \neq p_2$ from~$\Prm$
and $k_1,k_2 \in \N$.

Let $p\in \Prm$ be given.
Note that either $w(p) \leq v(p)$ or $v(p)\leq w(p)$.
Hence,
\begin{alignat}{3}
\label{eq:totient-almost-done}
\varphi(p^{w(p)}) \,\cdot\, \varphi(p^{v(p)})
\ &=\ \varphi(\,p^{\min\{w(p),v(p)\}}\,)
 \,\cdot\, \varphi(\,p^{\max\{w(p),v(p)\}}\,).
\end{alignat}
This gives us the following equality.
\begin{equation*}
m\cdot n \ =\ 
\prod_{p\in\Prm} \ \varphi(\,p^{\min\{w(p),v(p)\}}\,)
 \ \cdot\  \prod_{p\in \Prm}\ \varphi(\,p^{\max\{w(p),v(p)\}}\,).
\end{equation*}
Note that\quad
$\gcd\{m,n\} = \prod_{p\in \Prm}\ p^{\min\{w(p),v(p)\}}$,\quad
so we have
\begin{equation*}
\varphi(\,\gcd\{m,n\}\,)
\  =\  \prod_{p\in \Prm}\ \varphi(\,p^{\min\{w(p),v(p)\}}\,).
\end{equation*}
Similarly, we have
\begin{equation*}
\varphi(\,\lcm\{m,n\}\,)
\  =\  \prod_{p\in \Prm}\ \varphi(\,p^{\max\{w(p),v(p)\}}\,).
\end{equation*}
If we apply the above equalities to Equation~\eqref{eq:totient-almost-done}
we get
\begin{equation*}
\varphi(m)\,\cdot\,\varphi(n) 
\ =\ \varphi(\,\gcd\{m,n\}\,)\,\cdot\, \varphi(\,\lcm\{m,n\}\,).
\end{equation*}
So $\varphi$ is modular.
Hence Euler's totient function $\varphi$ is a valuation.
\end{ex}



%
%                  EXAMPLE ON VECTOR SPACES
%
\noindent
Up to this point
we have only seen valuations on distributive lattices.
We will now give an example
of a valuation on a non-distributive lattice.
\begin{ex}
Let $W$ be a vector space.
Let $L$ be the set of finite-dimensional linear subspaces
of~$W$ ordered by inclusion.
  Then~$L$ is a lattice, and 
for all~$A,B\in L$,
\begin{equation*}
A\wedge B \ =\ A\cap B,
\qquad A\vee B \ =\ \left<A\cup B\right>,
\end{equation*}
where $\left< S \right>$ denotes the smallest
linear subspace containing $S$.
We have
\begin{equation*}
\dim (A\wedge B) \,+\, \dim(A\vee B)
\ =\ 
\dim A \,+\, \dim B 
\qquad\qquad(A,B\in L).
\end{equation*}
To see this,
apply the dimension theorem
to the map~$f\colon A\times B\ra A\vee B$ given by  $(a,b)\mapsto a+b$.
Hence the assignment $A \mapsto \dim A$
gives a valuation $\dim\colon L\ra \N$.

The lattice~$L$ might be distributive.
For instance, if~$W=\{ 0 \}$.
This occurs only seldom:
if $W$ contains two linearly independent vectors,
then~$L$ is non-distributive.

Indeed,
let $v_1,v_2\in W$ be linearly independent vectors
and consider  $w\eqdf v_1 + v_2$.
One can verify that $v_i, w$ are linearly independent too.
So $\left< v_i \right> \cap \left< w \right> = \{0\}$.
Hence
\begin{equation*}
\left< w \right> \wedge(\left< v_1 \right>\vee\left< v_2 \right>)
\ =\ 
\left< v_1, v_2 \right>
\ \neq\ 
\{0\}
\ =\ 
(\left<w\right> \wedge \left<v_1\right>)
\,\vee\, (\left<w\right> \wedge \left<v_2\right>).
\end{equation*}
\end{ex}
\noindent
It is interesting to note that
there are some `connections'
between
modular maps (see Definition~\ref{D:val})
and \emph{modular lattices}.
Recall that a lattice~$L$ is modular if
\begin{equation*}
\ell \vee (a \wedge u) \ =\ (\ell \vee a) \wedge u
\end{equation*}
for all~$\ell,u,a \in L$ with $\ell \leq u$.
One such connection is given by the following lemma.
%
%                  LEMMA ON MODULARITY FOR MODULAR MAPS
%
\begin{lem}
\label{L:modular-map-modular}
Let $E$ be an ordered Abelian group.
Let~$L$ be a lattice.\\
Let $\varphi\colon L \ra E$ 
be a modular map.
Let $\ell,u\in L$ with $\ell\leq u$ be given.
We have
\begin{equation}
\label{eq:modular-map}
\varphi(\,\ell \vee (a \wedge u)\,) 
\ =\ 
\varphi(\,(\ell\vee a)\wedge u\,)
\qquad (a\in L).
\end{equation}
\end{lem}
\begin{proof}
The trick is to consider the expression 
$\varphi(\ell) + \varphi(a) + \varphi(u)$.
On the one hand,
\begin{align*}
\varphi(\ell) + \varphi(a) + \varphi(u)
\ &=\ \varphi(\ell\wedge a) + \varphi(\ell \vee a) + \varphi(u) \\
\ &=\ \varphi(\ell \wedge a)
      + \varphi(\,(\ell\vee a)\wedge u\,)
      + \varphi(a\vee u),
\end{align*}
where we have used modularity twice.
On the other hand,
\begin{align*}
\varphi(\ell) + \varphi(a) + \varphi(u)
\ &=\ \varphi(\ell) + \varphi(a\wedge u) + \varphi(a \vee u) \\
\ &=\ \varphi(\ell \wedge a)
      + \varphi(\,\ell\vee (a\wedge u)\,)
      + \varphi(a\vee u).
\end{align*}
The difference,
$\varphi(\,(\ell\vee a)\wedge u\,)
- \varphi(\,\ell\vee (a\wedge u)\,)$,
must be zero.
\end{proof}

\end{document}
